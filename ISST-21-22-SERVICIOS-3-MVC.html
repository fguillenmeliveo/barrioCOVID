<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=cGvuclDC_Z1vE_cnVEU6Ae_NZQ7StBcqH_vXVqoPMX0');ol.lst-kix_list_7-0{list-style-type:none}.lst-kix_list_14-1>li:before{content:"o  "}.lst-kix_list_14-3>li:before{content:"\0025cf  "}ol.lst-kix_a5ziv4d27ioh-7.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-7 0}ol.lst-kix_list_9-0.start{counter-reset:lst-ctn-kix_list_9-0 0}.lst-kix_list_14-0>li:before{content:"\0025cf  "}.lst-kix_list_14-4>li:before{content:"o  "}.lst-kix_list_6-1>li{counter-increment:lst-ctn-kix_list_6-1}.lst-kix_list_14-5>li:before{content:"\0025aa  "}.lst-kix_list_14-7>li:before{content:"o  "}.lst-kix_list_14-6>li:before{content:"\0025cf  "}ol.lst-kix_list_7-4.start{counter-reset:lst-ctn-kix_list_7-4 0}.lst-kix_list_9-0>li{counter-increment:lst-ctn-kix_list_9-0}ol.lst-kix_list_7-5{list-style-type:none}ol.lst-kix_list_7-6{list-style-type:none}ol.lst-kix_list_7-7{list-style-type:none}ol.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_7-1{list-style-type:none}ol.lst-kix_list_7-2{list-style-type:none}ol.lst-kix_list_7-3{list-style-type:none}ol.lst-kix_list_7-4{list-style-type:none}.lst-kix_list_14-2>li:before{content:"\0025aa  "}ul.lst-kix_list_17-1{list-style-type:none}ul.lst-kix_list_17-0{list-style-type:none}ul.lst-kix_list_17-8{list-style-type:none}ul.lst-kix_list_17-7{list-style-type:none}ul.lst-kix_list_17-6{list-style-type:none}ul.lst-kix_list_17-5{list-style-type:none}ol.lst-kix_list_3-7.start{counter-reset:lst-ctn-kix_list_3-7 0}ul.lst-kix_list_17-4{list-style-type:none}ul.lst-kix_list_17-3{list-style-type:none}.lst-kix_list_14-8>li:before{content:"\0025aa  "}ul.lst-kix_list_17-2{list-style-type:none}.lst-kix_list_3-2>li{counter-increment:lst-ctn-kix_list_3-2}.lst-kix_list_7-2>li{counter-increment:lst-ctn-kix_list_7-2}ol.lst-kix_a5ziv4d27ioh-2.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-2 0}.lst-kix_list_5-0>li:before{content:"\0025cf  "}ol.lst-kix_list_6-0{list-style-type:none}ol.lst-kix_list_6-1{list-style-type:none}.lst-kix_list_1-4>li{counter-increment:lst-ctn-kix_list_1-4}ol.lst-kix_list_1-6.start{counter-reset:lst-ctn-kix_list_1-6 0}.lst-kix_list_5-3>li:before{content:"\0025cf  "}ol.lst-kix_list_9-5.start{counter-reset:lst-ctn-kix_list_9-5 0}.lst-kix_list_5-2>li:before{content:"\0025a0  "}.lst-kix_list_5-1>li:before{content:"\0025cb  "}.lst-kix_list_5-7>li:before{content:"\0025cb  "}ul.lst-kix_list_8-4{list-style-type:none}ul.lst-kix_list_8-5{list-style-type:none}.lst-kix_list_5-6>li:before{content:"\0025cf  "}.lst-kix_list_5-8>li:before{content:"\0025a0  "}ul.lst-kix_list_8-2{list-style-type:none}ul.lst-kix_list_8-3{list-style-type:none}ul.lst-kix_list_8-8{list-style-type:none}ul.lst-kix_list_8-6{list-style-type:none}ul.lst-kix_list_8-7{list-style-type:none}.lst-kix_list_9-4>li{counter-increment:lst-ctn-kix_list_9-4}ol.lst-kix_list_6-6{list-style-type:none}ol.lst-kix_list_6-7{list-style-type:none}.lst-kix_list_5-4>li:before{content:"\0025cb  "}ol.lst-kix_list_6-8{list-style-type:none}.lst-kix_list_5-5>li:before{content:"\0025a0  "}ol.lst-kix_list_6-2{list-style-type:none}ul.lst-kix_list_8-0{list-style-type:none}ol.lst-kix_list_6-3{list-style-type:none}ul.lst-kix_list_8-1{list-style-type:none}ol.lst-kix_list_6-4{list-style-type:none}ol.lst-kix_list_6-5{list-style-type:none}.lst-kix_list_6-1>li:before{content:"" counter(lst-ctn-kix_list_6-1,lower-latin) ". "}.lst-kix_list_6-3>li:before{content:"" counter(lst-ctn-kix_list_6-3,decimal) ". "}.lst-kix_list_6-5>li{counter-increment:lst-ctn-kix_list_6-5}.lst-kix_list_6-8>li{counter-increment:lst-ctn-kix_list_6-8}.lst-kix_list_6-0>li:before{content:"" counter(lst-ctn-kix_list_6-0,decimal) ". "}.lst-kix_list_6-4>li:before{content:"" counter(lst-ctn-kix_list_6-4,lower-latin) ". "}ul.lst-kix_list_16-2{list-style-type:none}ul.lst-kix_list_16-1{list-style-type:none}ul.lst-kix_list_16-0{list-style-type:none}.lst-kix_list_3-6>li{counter-increment:lst-ctn-kix_list_3-6}.lst-kix_list_6-2>li:before{content:"" counter(lst-ctn-kix_list_6-2,lower-roman) ". "}ul.lst-kix_list_16-8{list-style-type:none}ul.lst-kix_list_16-7{list-style-type:none}ul.lst-kix_list_16-6{list-style-type:none}ol.lst-kix_list_3-2.start{counter-reset:lst-ctn-kix_list_3-2 0}ul.lst-kix_list_16-5{list-style-type:none}ul.lst-kix_list_16-4{list-style-type:none}.lst-kix_list_6-8>li:before{content:"" counter(lst-ctn-kix_list_6-8,lower-roman) ". "}ul.lst-kix_list_16-3{list-style-type:none}.lst-kix_list_6-5>li:before{content:"" counter(lst-ctn-kix_list_6-5,lower-roman) ". "}.lst-kix_list_6-7>li:before{content:"" counter(lst-ctn-kix_list_6-7,lower-latin) ". "}.lst-kix_list_6-6>li:before{content:"" counter(lst-ctn-kix_list_6-6,decimal) ". "}.lst-kix_list_7-4>li:before{content:"" counter(lst-ctn-kix_list_7-4,lower-latin) ". "}.lst-kix_list_7-6>li:before{content:"" counter(lst-ctn-kix_list_7-6,decimal) ". "}ol.lst-kix_list_6-2.start{counter-reset:lst-ctn-kix_list_6-2 0}.lst-kix_list_7-2>li:before{content:"" counter(lst-ctn-kix_list_7-2,lower-roman) ". "}.lst-kix_list_7-6>li{counter-increment:lst-ctn-kix_list_7-6}ol.lst-kix_list_9-7{list-style-type:none}ol.lst-kix_list_9-8{list-style-type:none}.lst-kix_list_13-7>li:before{content:"o  "}ol.lst-kix_list_3-0.start{counter-reset:lst-ctn-kix_list_3-0 0}ol.lst-kix_list_9-3{list-style-type:none}ol.lst-kix_list_9-4{list-style-type:none}ol.lst-kix_list_9-5{list-style-type:none}.lst-kix_list_7-8>li:before{content:"" counter(lst-ctn-kix_list_7-8,lower-roman) ". "}ol.lst-kix_list_9-6{list-style-type:none}ol.lst-kix_list_9-0{list-style-type:none}ol.lst-kix_list_9-1{list-style-type:none}ol.lst-kix_list_9-2{list-style-type:none}.lst-kix_list_15-5>li:before{content:"\0025a0  "}.lst-kix_list_9-8>li{counter-increment:lst-ctn-kix_list_9-8}.lst-kix_list_4-1>li:before{content:"\0025cb  "}.lst-kix_list_15-7>li:before{content:"\0025cb  "}ul.lst-kix_list_19-7{list-style-type:none}ul.lst-kix_list_19-6{list-style-type:none}.lst-kix_list_4-3>li:before{content:"\0025cf  "}.lst-kix_list_4-5>li:before{content:"\0025a0  "}ul.lst-kix_list_19-5{list-style-type:none}ul.lst-kix_list_19-4{list-style-type:none}ul.lst-kix_list_19-3{list-style-type:none}.lst-kix_list_1-8>li{counter-increment:lst-ctn-kix_list_1-8}ul.lst-kix_list_19-2{list-style-type:none}ul.lst-kix_list_19-1{list-style-type:none}ul.lst-kix_list_19-0{list-style-type:none}.lst-kix_list_15-1>li:before{content:"\0025cb  "}ol.lst-kix_list_1-4.start{counter-reset:lst-ctn-kix_list_1-4 0}.lst-kix_list_3-5>li{counter-increment:lst-ctn-kix_list_3-5}ol.lst-kix_list_1-1.start{counter-reset:lst-ctn-kix_list_1-1 0}.lst-kix_list_15-3>li:before{content:"\0025cf  "}ul.lst-kix_list_19-8{list-style-type:none}.lst-kix_a5ziv4d27ioh-2>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-2}.lst-kix_list_6-4>li{counter-increment:lst-ctn-kix_list_6-4}ol.lst-kix_list_9-2.start{counter-reset:lst-ctn-kix_list_9-2 0}.lst-kix_list_9-3>li{counter-increment:lst-ctn-kix_list_9-3}.lst-kix_list_12-3>li:before{content:"\0025cf  "}ol.lst-kix_list_7-6.start{counter-reset:lst-ctn-kix_list_7-6 0}.lst-kix_list_12-1>li:before{content:"\0025cb  "}.lst-kix_42dq25wbvt93-5>li:before{content:"\0025a0  "}.lst-kix_42dq25wbvt93-7>li:before{content:"\0025cb  "}.lst-kix_list_13-3>li:before{content:"\0025cf  "}ul.lst-kix_list_18-0{list-style-type:none}.lst-kix_list_1-3>li{counter-increment:lst-ctn-kix_list_1-3}.lst-kix_list_13-5>li:before{content:"\0025aa  "}.lst-kix_list_12-5>li:before{content:"\0025a0  "}ul.lst-kix_blv90bfbbgar-2{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-5.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-5 0}ul.lst-kix_list_18-8{list-style-type:none}ul.lst-kix_blv90bfbbgar-3{list-style-type:none}ul.lst-kix_list_18-7{list-style-type:none}ul.lst-kix_blv90bfbbgar-0{list-style-type:none}ul.lst-kix_list_18-6{list-style-type:none}ul.lst-kix_blv90bfbbgar-1{list-style-type:none}ul.lst-kix_list_18-5{list-style-type:none}.lst-kix_list_12-7>li:before{content:"\0025cb  "}ul.lst-kix_blv90bfbbgar-6{list-style-type:none}ul.lst-kix_list_18-4{list-style-type:none}ul.lst-kix_blv90bfbbgar-7{list-style-type:none}ul.lst-kix_list_18-3{list-style-type:none}ul.lst-kix_blv90bfbbgar-4{list-style-type:none}ul.lst-kix_list_18-2{list-style-type:none}ol.lst-kix_list_6-0.start{counter-reset:lst-ctn-kix_list_6-0 0}ul.lst-kix_blv90bfbbgar-5{list-style-type:none}ul.lst-kix_list_18-1{list-style-type:none}ul.lst-kix_blv90bfbbgar-8{list-style-type:none}.lst-kix_list_13-1>li:before{content:"o  "}ol.lst-kix_list_3-1{list-style-type:none}ol.lst-kix_list_3-2{list-style-type:none}ol.lst-kix_list_3-3{list-style-type:none}ol.lst-kix_list_3-4.start{counter-reset:lst-ctn-kix_list_3-4 0}ol.lst-kix_list_3-4{list-style-type:none}.lst-kix_hu7dnwb73f4j-3>li:before{content:"-  "}.lst-kix_hu7dnwb73f4j-7>li:before{content:"-  "}ol.lst-kix_list_3-0{list-style-type:none}.lst-kix_list_1-1>li{counter-increment:lst-ctn-kix_list_1-1}.lst-kix_list_7-1>li{counter-increment:lst-ctn-kix_list_7-1}.lst-kix_hu7dnwb73f4j-6>li:before{content:"-  "}.lst-kix_list_3-0>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) ". "}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}ul.lst-kix_list_5-5{list-style-type:none}ul.lst-kix_list_5-6{list-style-type:none}.lst-kix_42dq25wbvt93-0>li:before{content:"\0025cf  "}ul.lst-kix_list_5-0{list-style-type:none}.lst-kix_list_3-4>li:before{content:"" counter(lst-ctn-kix_list_3-4,lower-latin) ". "}.lst-kix_42dq25wbvt93-1>li:before{content:"\0025cb  "}ul.lst-kix_list_5-3{list-style-type:none}.lst-kix_list_3-3>li:before{content:"" counter(lst-ctn-kix_list_3-3,decimal) ". "}ol.lst-kix_list_3-5{list-style-type:none}.lst-kix_hu7dnwb73f4j-2>li:before{content:"-  "}ul.lst-kix_list_5-4{list-style-type:none}ol.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_5-1{list-style-type:none}.lst-kix_list_8-0>li:before{content:"\0025cf  "}ol.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_5-2{list-style-type:none}ol.lst-kix_list_3-8{list-style-type:none}.lst-kix_list_8-7>li:before{content:"\0025cb  "}.lst-kix_list_3-8>li:before{content:"" counter(lst-ctn-kix_list_3-8,lower-roman) ". "}.lst-kix_list_8-3>li:before{content:"\0025cf  "}ul.lst-kix_list_13-5{list-style-type:none}ul.lst-kix_list_13-4{list-style-type:none}ul.lst-kix_list_13-3{list-style-type:none}ul.lst-kix_list_13-2{list-style-type:none}ul.lst-kix_list_13-1{list-style-type:none}.lst-kix_list_3-7>li:before{content:"" counter(lst-ctn-kix_list_3-7,lower-latin) ". "}ul.lst-kix_list_13-0{list-style-type:none}.lst-kix_list_8-4>li:before{content:"\0025cb  "}ul.lst-kix_list_13-8{list-style-type:none}.lst-kix_list_11-1>li:before{content:"\0025cb  "}ul.lst-kix_list_13-7{list-style-type:none}ul.lst-kix_list_13-6{list-style-type:none}.lst-kix_list_11-0>li:before{content:"\0025cf  "}ol.lst-kix_list_9-3.start{counter-reset:lst-ctn-kix_list_9-3 0}.lst-kix_list_8-8>li:before{content:"\0025a0  "}.lst-kix_list_16-8>li:before{content:"\0025aa  "}.lst-kix_list_16-7>li:before{content:"o  "}ol.lst-kix_list_7-2.start{counter-reset:lst-ctn-kix_list_7-2 0}.lst-kix_list_4-8>li:before{content:"\0025a0  "}.lst-kix_list_4-7>li:before{content:"\0025cb  "}.lst-kix_list_17-0>li:before{content:"\0025cf  "}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_16-0>li:before{content:"\0025cf  "}ul.lst-kix_list_4-6{list-style-type:none}ul.lst-kix_list_4-7{list-style-type:none}ul.lst-kix_list_4-0{list-style-type:none}.lst-kix_list_16-4>li:before{content:"o  "}ul.lst-kix_list_4-1{list-style-type:none}ol.lst-kix_list_3-3.start{counter-reset:lst-ctn-kix_list_3-3 0}.lst-kix_list_16-3>li:before{content:"\0025cf  "}ul.lst-kix_list_4-4{list-style-type:none}ul.lst-kix_list_4-5{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}ol.lst-kix_list_7-1.start{counter-reset:lst-ctn-kix_list_7-1 0}ul.lst-kix_list_12-6{list-style-type:none}ul.lst-kix_list_12-5{list-style-type:none}.lst-kix_list_17-7>li:before{content:"\0025cb  "}ul.lst-kix_list_12-4{list-style-type:none}ul.lst-kix_list_12-3{list-style-type:none}ul.lst-kix_list_12-2{list-style-type:none}ul.lst-kix_list_12-1{list-style-type:none}.lst-kix_list_17-8>li:before{content:"\0025a0  "}ul.lst-kix_list_12-0{list-style-type:none}.lst-kix_list_17-3>li:before{content:"\0025cf  "}.lst-kix_list_17-4>li:before{content:"\0025cb  "}.lst-kix_a5ziv4d27ioh-1>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-1}ul.lst-kix_list_12-8{list-style-type:none}ul.lst-kix_list_12-7{list-style-type:none}.lst-kix_list_7-0>li:before{content:"" counter(lst-ctn-kix_list_7-0,decimal) ". "}.lst-kix_list_3-7>li{counter-increment:lst-ctn-kix_list_3-7}ol.lst-kix_list_9-7.start{counter-reset:lst-ctn-kix_list_9-7 0}.lst-kix_a5ziv4d27ioh-3>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-3,decimal) ". "}.lst-kix_blv90bfbbgar-5>li:before{content:"\0025a0  "}.lst-kix_list_2-4>li:before{content:"\0025cb  "}.lst-kix_list_2-8>li:before{content:"\0025a0  "}.lst-kix_a5ziv4d27ioh-7>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-7,lower-latin) ". "}.lst-kix_list_6-6>li{counter-increment:lst-ctn-kix_list_6-6}.lst-kix_list_7-3>li:before{content:"" counter(lst-ctn-kix_list_7-3,decimal) ". "}.lst-kix_list_10-0>li:before{content:"\0025cf  "}.lst-kix_list_9-7>li{counter-increment:lst-ctn-kix_list_9-7}.lst-kix_list_13-8>li:before{content:"\0025aa  "}.lst-kix_list_18-3>li:before{content:"\0025cf  "}.lst-kix_list_18-7>li:before{content:"\0025cb  "}ol.lst-kix_list_3-8.start{counter-reset:lst-ctn-kix_list_3-8 0}.lst-kix_list_7-7>li:before{content:"" counter(lst-ctn-kix_list_7-7,lower-latin) ". "}.lst-kix_list_15-4>li:before{content:"\0025cb  "}.lst-kix_list_9-5>li{counter-increment:lst-ctn-kix_list_9-5}.lst-kix_list_10-4>li:before{content:"\0025cb  "}.lst-kix_list_10-8>li:before{content:"\0025a0  "}.lst-kix_list_4-0>li:before{content:"\0025cf  "}ul.lst-kix_list_15-3{list-style-type:none}ul.lst-kix_list_15-2{list-style-type:none}.lst-kix_a5ziv4d27ioh-6>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-6}.lst-kix_list_15-0>li:before{content:"\0025cf  "}ul.lst-kix_list_15-1{list-style-type:none}.lst-kix_list_15-8>li:before{content:"\0025a0  "}ul.lst-kix_list_15-0{list-style-type:none}.lst-kix_list_4-4>li:before{content:"\0025cb  "}ul.lst-kix_list_15-8{list-style-type:none}.lst-kix_blv90bfbbgar-1>li:before{content:"\0025cb  "}ul.lst-kix_list_15-7{list-style-type:none}ul.lst-kix_list_15-6{list-style-type:none}.lst-kix_list_9-3>li:before{content:"" counter(lst-ctn-kix_list_9-3,decimal) ". "}ul.lst-kix_list_15-5{list-style-type:none}ul.lst-kix_list_15-4{list-style-type:none}ol.lst-kix_list_7-0.start{counter-reset:lst-ctn-kix_list_7-0 0}.lst-kix_list_9-7>li:before{content:"" counter(lst-ctn-kix_list_9-7,lower-latin) ". "}ol.lst-kix_list_3-6.start{counter-reset:lst-ctn-kix_list_3-6 0}.lst-kix_list_11-4>li:before{content:"\0025cb  "}.lst-kix_list_12-4>li:before{content:"\0025cb  "}.lst-kix_list_7-4>li{counter-increment:lst-ctn-kix_list_7-4}.lst-kix_list_1-0>li:before{content:"" counter(lst-ctn-kix_list_1-0,decimal) ". "}.lst-kix_list_11-8>li:before{content:"\0025a0  "}.lst-kix_list_12-0>li:before{content:"\0025cf  "}.lst-kix_list_1-4>li:before{content:"" counter(lst-ctn-kix_list_1-4,lower-latin) ". "}.lst-kix_list_13-0>li:before{content:"\0025cf  "}ol.lst-kix_list_3-5.start{counter-reset:lst-ctn-kix_list_3-5 0}.lst-kix_42dq25wbvt93-4>li:before{content:"\0025cb  "}.lst-kix_42dq25wbvt93-8>li:before{content:"\0025a0  "}ul.lst-kix_list_14-4{list-style-type:none}ul.lst-kix_list_14-3{list-style-type:none}.lst-kix_list_1-6>li{counter-increment:lst-ctn-kix_list_1-6}ul.lst-kix_list_14-2{list-style-type:none}.lst-kix_list_13-4>li:before{content:"o  "}ul.lst-kix_list_14-1{list-style-type:none}ul.lst-kix_list_14-0{list-style-type:none}ul.lst-kix_list_14-8{list-style-type:none}ul.lst-kix_list_14-7{list-style-type:none}.lst-kix_list_2-0>li:before{content:"\0025cf  "}ul.lst-kix_list_14-6{list-style-type:none}ul.lst-kix_list_14-5{list-style-type:none}ol.lst-kix_list_9-8.start{counter-reset:lst-ctn-kix_list_9-8 0}.lst-kix_list_1-8>li:before{content:"" counter(lst-ctn-kix_list_1-8,lower-roman) ". "}.lst-kix_list_12-8>li:before{content:"\0025a0  "}.lst-kix_list_19-0>li:before{content:"\0025cf  "}.lst-kix_list_19-1>li:before{content:"\0025cb  "}.lst-kix_list_19-4>li:before{content:"\0025cb  "}.lst-kix_list_19-2>li:before{content:"\0025a0  "}.lst-kix_list_19-3>li:before{content:"\0025cf  "}ol.lst-kix_list_3-1.start{counter-reset:lst-ctn-kix_list_3-1 0}ol.lst-kix_list_6-6.start{counter-reset:lst-ctn-kix_list_6-6 0}.lst-kix_list_7-0>li{counter-increment:lst-ctn-kix_list_7-0}ol.lst-kix_list_1-5.start{counter-reset:lst-ctn-kix_list_1-5 0}ol.lst-kix_list_9-6.start{counter-reset:lst-ctn-kix_list_9-6 0}.lst-kix_a5ziv4d27ioh-0>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-0}.lst-kix_list_1-2>li{counter-increment:lst-ctn-kix_list_1-2}.lst-kix_list_19-8>li:before{content:"\0025a0  "}.lst-kix_list_19-5>li:before{content:"\0025a0  "}.lst-kix_list_19-6>li:before{content:"\0025cf  "}.lst-kix_list_19-7>li:before{content:"\0025cb  "}.lst-kix_list_9-2>li{counter-increment:lst-ctn-kix_list_9-2}ul.lst-kix_hu7dnwb73f4j-2{list-style-type:none}ul.lst-kix_hu7dnwb73f4j-3{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-8.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-8 0}ol.lst-kix_list_1-0.start{counter-reset:lst-ctn-kix_list_1-0 0}ul.lst-kix_hu7dnwb73f4j-0{list-style-type:none}ul.lst-kix_hu7dnwb73f4j-1{list-style-type:none}ul.lst-kix_hu7dnwb73f4j-6{list-style-type:none}ul.lst-kix_hu7dnwb73f4j-7{list-style-type:none}.lst-kix_list_18-0>li:before{content:"\0025cf  "}ul.lst-kix_hu7dnwb73f4j-4{list-style-type:none}ul.lst-kix_hu7dnwb73f4j-5{list-style-type:none}.lst-kix_list_3-0>li{counter-increment:lst-ctn-kix_list_3-0}.lst-kix_list_18-1>li:before{content:"\0025cb  "}.lst-kix_list_18-2>li:before{content:"\0025a0  "}ul.lst-kix_hu7dnwb73f4j-8{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-1.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-1 0}.lst-kix_a5ziv4d27ioh-7>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-7}.lst-kix_a5ziv4d27ioh-4>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-4}ol.lst-kix_list_1-3{list-style-type:none}.lst-kix_a5ziv4d27ioh-2>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-2,lower-roman) ". "}.lst-kix_blv90bfbbgar-6>li:before{content:"\0025cf  "}ol.lst-kix_list_1-4{list-style-type:none}.lst-kix_list_2-7>li:before{content:"\0025cb  "}ol.lst-kix_list_1-5{list-style-type:none}ol.lst-kix_list_1-6{list-style-type:none}.lst-kix_blv90bfbbgar-4>li:before{content:"\0025cb  "}.lst-kix_blv90bfbbgar-8>li:before{content:"\0025a0  "}ol.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_2-5>li:before{content:"\0025a0  "}ol.lst-kix_list_1-1{list-style-type:none}ol.lst-kix_list_1-2{list-style-type:none}.lst-kix_a5ziv4d27ioh-6>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-6,decimal) ". "}.lst-kix_a5ziv4d27ioh-0>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-0,decimal) ". "}.lst-kix_a5ziv4d27ioh-8>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-8,lower-roman) ". "}.lst-kix_list_18-6>li:before{content:"\0025cf  "}ol.lst-kix_list_9-4.start{counter-reset:lst-ctn-kix_list_9-4 0}.lst-kix_list_10-1>li:before{content:"\0025cb  "}.lst-kix_list_18-4>li:before{content:"\0025cb  "}.lst-kix_list_18-8>li:before{content:"\0025a0  "}.lst-kix_list_7-7>li{counter-increment:lst-ctn-kix_list_7-7}ol.lst-kix_list_1-7{list-style-type:none}.lst-kix_a5ziv4d27ioh-4>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-4,lower-latin) ". "}ol.lst-kix_list_1-8{list-style-type:none}.lst-kix_list_10-7>li:before{content:"\0025cb  "}.lst-kix_list_7-8>li{counter-increment:lst-ctn-kix_list_7-8}.lst-kix_list_10-5>li:before{content:"\0025a0  "}ol.lst-kix_a5ziv4d27ioh-3.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-3 0}.lst-kix_list_10-3>li:before{content:"\0025cf  "}ul.lst-kix_list_11-7{list-style-type:none}.lst-kix_a5ziv4d27ioh-3>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-3}ul.lst-kix_list_11-6{list-style-type:none}ol.lst-kix_list_7-3.start{counter-reset:lst-ctn-kix_list_7-3 0}ul.lst-kix_list_11-5{list-style-type:none}ul.lst-kix_list_11-4{list-style-type:none}ul.lst-kix_list_11-3{list-style-type:none}ul.lst-kix_list_11-2{list-style-type:none}ul.lst-kix_list_11-1{list-style-type:none}ul.lst-kix_list_11-0{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-6.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-6 0}.lst-kix_list_9-2>li:before{content:"" counter(lst-ctn-kix_list_9-2,lower-roman) ". "}.lst-kix_blv90bfbbgar-0>li:before{content:"\0025cf  "}ul.lst-kix_list_11-8{list-style-type:none}.lst-kix_blv90bfbbgar-2>li:before{content:"\0025a0  "}.lst-kix_list_9-0>li:before{content:"" counter(lst-ctn-kix_list_9-0,decimal) ". "}.lst-kix_list_3-4>li{counter-increment:lst-ctn-kix_list_3-4}.lst-kix_list_9-6>li:before{content:"" counter(lst-ctn-kix_list_9-6,decimal) ". "}.lst-kix_a5ziv4d27ioh-8>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-8}.lst-kix_list_9-4>li:before{content:"" counter(lst-ctn-kix_list_9-4,lower-latin) ". "}.lst-kix_list_11-3>li:before{content:"\0025cf  "}.lst-kix_list_6-3>li{counter-increment:lst-ctn-kix_list_6-3}ol.lst-kix_list_1-3.start{counter-reset:lst-ctn-kix_list_1-3 0}ul.lst-kix_list_2-8{list-style-type:none}ol.lst-kix_list_1-2.start{counter-reset:lst-ctn-kix_list_1-2 0}.lst-kix_list_11-5>li:before{content:"\0025a0  "}ol.lst-kix_list_6-1.start{counter-reset:lst-ctn-kix_list_6-1 0}ul.lst-kix_list_2-2{list-style-type:none}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}.lst-kix_list_9-8>li:before{content:"" counter(lst-ctn-kix_list_9-8,lower-roman) ". "}ul.lst-kix_list_2-6{list-style-type:none}.lst-kix_list_1-1>li:before{content:"" counter(lst-ctn-kix_list_1-1,lower-latin) ". "}ul.lst-kix_list_2-7{list-style-type:none}.lst-kix_list_11-7>li:before{content:"\0025cb  "}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}ul.lst-kix_list_10-0{list-style-type:none}.lst-kix_list_1-3>li:before{content:"" counter(lst-ctn-kix_list_1-3,decimal) ". "}ul.lst-kix_list_10-8{list-style-type:none}ul.lst-kix_list_10-7{list-style-type:none}.lst-kix_list_1-7>li:before{content:"" counter(lst-ctn-kix_list_1-7,lower-latin) ". "}ul.lst-kix_list_10-6{list-style-type:none}ul.lst-kix_list_10-5{list-style-type:none}ul.lst-kix_list_10-4{list-style-type:none}ul.lst-kix_list_10-3{list-style-type:none}.lst-kix_list_1-5>li:before{content:"" counter(lst-ctn-kix_list_1-5,lower-roman) ". "}ul.lst-kix_list_10-2{list-style-type:none}ul.lst-kix_list_10-1{list-style-type:none}ol.lst-kix_list_9-1.start{counter-reset:lst-ctn-kix_list_9-1 0}ol.lst-kix_list_7-5.start{counter-reset:lst-ctn-kix_list_7-5 0}.lst-kix_list_2-1>li:before{content:"\0025cb  "}.lst-kix_list_2-3>li:before{content:"\0025cf  "}.lst-kix_hu7dnwb73f4j-4>li:before{content:"-  "}.lst-kix_list_3-1>li{counter-increment:lst-ctn-kix_list_3-1}.lst-kix_list_9-1>li{counter-increment:lst-ctn-kix_list_9-1}.lst-kix_hu7dnwb73f4j-5>li:before{content:"-  "}ol.lst-kix_list_7-7.start{counter-reset:lst-ctn-kix_list_7-7 0}.lst-kix_list_3-1>li:before{content:"" counter(lst-ctn-kix_list_3-1,lower-latin) ". "}.lst-kix_list_3-2>li:before{content:"" counter(lst-ctn-kix_list_3-2,lower-roman) ". "}.lst-kix_list_8-1>li:before{content:"\0025cb  "}ol.lst-kix_list_1-8.start{counter-reset:lst-ctn-kix_list_1-8 0}.lst-kix_list_8-2>li:before{content:"\0025a0  "}.lst-kix_list_6-0>li{counter-increment:lst-ctn-kix_list_6-0}.lst-kix_list_3-5>li:before{content:"" counter(lst-ctn-kix_list_3-5,lower-roman) ". "}.lst-kix_hu7dnwb73f4j-0>li:before{content:"-  "}.lst-kix_42dq25wbvt93-3>li:before{content:"\0025cf  "}ol.lst-kix_a5ziv4d27ioh-4.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-4 0}.lst-kix_hu7dnwb73f4j-1>li:before{content:"-  "}.lst-kix_42dq25wbvt93-2>li:before{content:"\0025a0  "}.lst-kix_list_8-5>li:before{content:"\0025a0  "}.lst-kix_list_8-6>li:before{content:"\0025cf  "}.lst-kix_list_3-6>li:before{content:"" counter(lst-ctn-kix_list_3-6,decimal) ". "}.lst-kix_list_11-2>li:before{content:"\0025a0  "}.lst-kix_list_16-6>li:before{content:"\0025cf  "}ol.lst-kix_list_6-4.start{counter-reset:lst-ctn-kix_list_6-4 0}.lst-kix_list_17-1>li:before{content:"\0025cb  "}.lst-kix_list_16-1>li:before{content:"o  "}.lst-kix_list_7-3>li{counter-increment:lst-ctn-kix_list_7-3}.lst-kix_list_16-2>li:before{content:"\0025aa  "}.lst-kix_list_16-5>li:before{content:"\0025aa  "}ol.lst-kix_list_7-8.start{counter-reset:lst-ctn-kix_list_7-8 0}.lst-kix_list_3-3>li{counter-increment:lst-ctn-kix_list_3-3}ol.lst-kix_list_6-3.start{counter-reset:lst-ctn-kix_list_6-3 0}ul.lst-kix_42dq25wbvt93-6{list-style-type:none}ul.lst-kix_42dq25wbvt93-7{list-style-type:none}ul.lst-kix_42dq25wbvt93-4{list-style-type:none}.lst-kix_list_17-2>li:before{content:"\0025a0  "}ul.lst-kix_42dq25wbvt93-5{list-style-type:none}ul.lst-kix_42dq25wbvt93-2{list-style-type:none}ul.lst-kix_42dq25wbvt93-3{list-style-type:none}ul.lst-kix_42dq25wbvt93-0{list-style-type:none}ul.lst-kix_42dq25wbvt93-1{list-style-type:none}.lst-kix_hu7dnwb73f4j-8>li:before{content:"-  "}.lst-kix_list_17-6>li:before{content:"\0025cf  "}.lst-kix_list_17-5>li:before{content:"\0025a0  "}ul.lst-kix_42dq25wbvt93-8{list-style-type:none}.lst-kix_list_6-2>li{counter-increment:lst-ctn-kix_list_6-2}.lst-kix_blv90bfbbgar-7>li:before{content:"\0025cb  "}.lst-kix_list_2-6>li:before{content:"\0025cf  "}.lst-kix_a5ziv4d27ioh-1>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-1,lower-latin) ". "}.lst-kix_a5ziv4d27ioh-5>li{counter-increment:lst-ctn-kix_a5ziv4d27ioh-5}.lst-kix_list_7-1>li:before{content:"" counter(lst-ctn-kix_list_7-1,lower-latin) ". "}.lst-kix_list_7-5>li:before{content:"" counter(lst-ctn-kix_list_7-5,lower-roman) ". "}.lst-kix_list_9-6>li{counter-increment:lst-ctn-kix_list_9-6}.lst-kix_list_18-5>li:before{content:"\0025a0  "}.lst-kix_list_13-6>li:before{content:"\0025cf  "}.lst-kix_list_6-7>li{counter-increment:lst-ctn-kix_list_6-7}.lst-kix_a5ziv4d27ioh-5>li:before{content:"" counter(lst-ctn-kix_a5ziv4d27ioh-5,lower-roman) ". "}.lst-kix_list_1-7>li{counter-increment:lst-ctn-kix_list_1-7}.lst-kix_list_7-5>li{counter-increment:lst-ctn-kix_list_7-5}.lst-kix_list_15-6>li:before{content:"\0025cf  "}.lst-kix_list_3-8>li{counter-increment:lst-ctn-kix_list_3-8}ol.lst-kix_list_6-8.start{counter-reset:lst-ctn-kix_list_6-8 0}.lst-kix_list_10-2>li:before{content:"\0025a0  "}ol.lst-kix_list_1-7.start{counter-reset:lst-ctn-kix_list_1-7 0}.lst-kix_list_1-5>li{counter-increment:lst-ctn-kix_list_1-5}ol.lst-kix_a5ziv4d27ioh-0{list-style-type:none}ol.lst-kix_list_6-5.start{counter-reset:lst-ctn-kix_list_6-5 0}.lst-kix_list_4-2>li:before{content:"\0025a0  "}.lst-kix_list_4-6>li:before{content:"\0025cf  "}ol.lst-kix_a5ziv4d27ioh-3{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-4{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-1{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-2{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-7{list-style-type:none}.lst-kix_blv90bfbbgar-3>li:before{content:"\0025cf  "}ol.lst-kix_a5ziv4d27ioh-8{list-style-type:none}ol.lst-kix_a5ziv4d27ioh-0.start{counter-reset:lst-ctn-kix_a5ziv4d27ioh-0 0}ol.lst-kix_a5ziv4d27ioh-5{list-style-type:none}.lst-kix_list_15-2>li:before{content:"\0025a0  "}ol.lst-kix_a5ziv4d27ioh-6{list-style-type:none}.lst-kix_list_10-6>li:before{content:"\0025cf  "}.lst-kix_list_9-1>li:before{content:"" counter(lst-ctn-kix_list_9-1,lower-latin) ". "}ol.lst-kix_list_6-7.start{counter-reset:lst-ctn-kix_list_6-7 0}.lst-kix_list_9-5>li:before{content:"" counter(lst-ctn-kix_list_9-5,lower-roman) ". "}.lst-kix_list_12-2>li:before{content:"\0025a0  "}.lst-kix_list_11-6>li:before{content:"\0025cf  "}.lst-kix_list_1-2>li:before{content:"" counter(lst-ctn-kix_list_1-2,lower-roman) ". "}.lst-kix_list_1-0>li{counter-increment:lst-ctn-kix_list_1-0}.lst-kix_list_1-6>li:before{content:"" counter(lst-ctn-kix_list_1-6,decimal) ". "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_42dq25wbvt93-6>li:before{content:"\0025cf  "}.lst-kix_list_12-6>li:before{content:"\0025cf  "}.lst-kix_list_2-2>li:before{content:"\0025a0  "}.lst-kix_list_13-2>li:before{content:"\0025aa  "}ol{margin:0;padding:0}table td,table th{padding:0}.c20{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:451.5pt;border-top-color:#000000;border-bottom-style:solid}.c2{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Consolas";font-style:normal}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c6{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Consolas";font-style:normal}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:right;height:11pt}.c17{padding-top:18pt;padding-bottom:6pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c22{padding-top:20pt;padding-bottom:0pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c21{padding-top:18pt;padding-bottom:6pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c34{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left}.c9{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c28{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c0{border-spacing:0;border-collapse:collapse;margin-right:auto}.c31{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c13{font-size:9pt;font-family:"Consolas";font-weight:400}.c26{orphans:2;widows:2;margin-right:18pt}.c10{background-color:#ffffff;max-width:451.5pt;padding:72pt 72pt 72pt 72pt}.c30{font-size:8pt;font-family:"Consolas";font-weight:700}.c19{margin-left:180pt;padding-left:0pt}.c32{margin-left:108pt;padding-left:0pt}.c33{margin-left:72pt;padding-left:0pt}.c4{margin-left:36pt;padding-left:0pt}.c25{margin-left:144pt;padding-left:0pt}.c12{margin-left:216pt;padding-left:0pt}.c11{padding:0;margin:0}.c18{font-family:"Consolas";font-weight:400}.c36{orphans:2;widows:2}.c24{font-size:16pt}.c16{height:11pt}.c29{height:20.6pt}.c27{font-size:20pt}.c35{font-size:8pt}.c37{font-size:18pt}.c5{font-size:10pt}.c14{height:0pt}.c23{font-size:9pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c10 doc-content"><div><p class="c3 c16 c36"><span class="c8"></span></p></div><h1 class="c22" id="h.b7m5bvj6cc9d"><span class="c9 c27">ISST &ndash; Arquitecturas de servicios Java</span></h1><h1 class="c22" id="h.vlacq8182v1f"><span class="c37">Aplicaciones Web Java SpringMVC</span></h1><h2 class="c17"><span class="c9 c24">Objetivos</span></h2><p class="c7"><span class="c9 c5">Una vez completo el servicio de persistencia de TFGs, es hora de crear la aplicaci&oacute;n web que contiene la l&oacute;gica y el flujo de navegaci&oacute;n que implementan su ciclo de vida.</span></p><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c9 c5">Lo haremos como una aplicaci&oacute;n Spring-Java, corriendo sobre su propio servidor que lanza Spring-Boot, que accede al servicio REST de persistencia mediante el protocolo HTTP+JSON. La aplicaci&oacute;n web por su parte recibir&aacute; peticiones HTTP-HTML y responder&aacute; emitiendo p&aacute;ginas HTML con la informaci&oacute;n de los TFGs, o con formularios para crear/modificar un TFG. Una parte esencial de la l&oacute;gica tiene que ver con modificar el estado de un TFG, por lo que la aplicaci&oacute;n web deber&aacute; implementar mecanismos de autenticaci&oacute;n y autorizaci&oacute;n.</span></p><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c9 c5">Spring facilita la creaci&oacute;n de controladores REST y tambi&eacute;n Web; igualmente puede incluir un sistema de plantillas para la generaci&oacute;n de vistas HTML. Entre los existentes hemos elegido Thymeleaf por su versatilidad e incorporaci&oacute;n de facilidades de autenticaci&oacute;n y autorizaci&oacute;n. La siguiente imagen ilustra los elementos que necesitamos crear para esta aplicaci&oacute;n web que incluye los niveles de l&oacute;gica y presentaci&oacute;n.</span></p><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c5">El servicio </span><span class="c18 c5">tfgapi0</span><span class="c5">&nbsp;que desarrollamos en la sesi&oacute;n anterior ten&iacute;a como puerto de servicio 8080 (definido en </span><span class="c18 c5">application.properties</span><span class="c5">). Como ahora vamos a poner a correr otro servicio -la aplicaci&oacute;n Web lo es- y preferimos que &eacute;sta responda en el puerto 8080 (por defecto para los navegadores Web), ser&aacute; preciso cambiar el puerto de </span><span class="c18 c5">tfgapi0</span><span class="c5">&nbsp;al 8083 para evitar conflicto de puerto; h&aacute;galo en el fichero </span><span class="c13">application.properties</span><span class="c9 c5">&nbsp;que tiene en el proyecto.</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 358.46px; height: 274.50px;"><img alt="" src="https://lh3.googleusercontent.com/u/0/docs/AG8NV2Yk1PhOxB_7WZJ_Gk3bPZ_wHsMsVscwv3aqMih8tbS5d1h_iJCiwBy4d9Wk5MjDsUcsOJ3XjIgxAwrV9Gw1-WUmYkY4nZH2q_-kMLlgEfJ3LjU4h85bfe8AP7LXu-eM2TIvhrGt8d7b0vKtj5xFdjyrWvo92np0PbclGnkTGoG7Dt0iylv2iSmeXahZV-IibOph0Ghy7_QCj65tSfrpKFAnTwEkkQC81tmVR2KZq9IqldDDapOMm856K9Hin_VS9_X37LZOT0ZV3HFn5rkoSXm2yW4JcLOaZ3p7Xn3daZ8wLUQHWLGp6BOu2MVLe5UcGoJrZeOoKvSMfsdqMLrW_IvR6QtzcYsv8eiedoVvhRqzBsWBVW89WlmxhS2xpVbEPAFJAncVhlCAG6RVbg2Shz067PofmNyxd245pnyQ6yZmpnYfc6t7aTyEUyckjXzJUvITvMyAse1k9QMkjJU8bOmd8GrEQLHt2XEMZFrBGB2dSi-RhZfLwnEhN974IFmsQ1SBZbe70a2wn-2ZEmyen7TucavKjSrd5quj-6kFP7v1OJGBNA9YDgA_pCGXUlummod7QkB_K-jnkny7NSrRlqYu9_DU3_3LLUWjzYGv1pPFkbgspVS4trOk7h8XnEXHtHlK6p-rEOPuxvqkU7kr8JlHFiDOkPvhUhDQ-oVixeYQKo_64qmxsAjqCjPxU8KydViXi5XCu8CxN2pGyI8J10qOtAs8T9KVMFhYqXrPO1eI_Na0WJGWT94rHDV_4z84QQHTtkn6i43tl3FIuMJn5lMWEJ9tgAAxreq6tELhYxe1rFncR5ii4I1EQAjucYvQvEA85zBHkhqajARd0qOlce8zNYQwhXg9052I4kje20Cx4PX_bWdl0mJLCEE0wAnrvRNKMzT3qxsMMGwTTQWTcIem3iY5T3IhvsEIHVHS94LwZOBzErPk1BWr0BN3CQ" style="width: 358.46px; height: 274.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c16 c34"><span class="c8"></span></p><h2 class="c21" id="h.6820yy23hlpw"><span class="c9 c24">El proyecto</span></h2><p class="c7"><span class="c5">El proyecto maven ahora debe incluir carpetas y ficheros como se indica a continuaci&oacute;n:</span></p><a id="t.937b74b4e5dab43ed304c4b9c9d89cba070b21ca"></a><a id="t.0"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c6">tfgweb</span></p><ul class="c11 lst-kix_hu7dnwb73f4j-0 start"><li class="c3 c4 li-bullet-0"><span class="c6">.mvn/</span></li><li class="c3 c4 li-bullet-0"><span class="c6">src/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-1 start"><li class="c3 c33 li-bullet-0"><span class="c6">main</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-2 start"><li class="c3 c32 li-bullet-0"><span class="c6">java/es/upm/dit/isst/tfg/tfgweb/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3 start"><li class="c3 c25 li-bullet-0"><span class="c6">config/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4 start"><li class="c3 c19 li-bullet-0"><span class="c6">ConfiguracionMensajes.java</span></li><li class="c3 c19 li-bullet-0"><span class="c6">ConfiguracionValidador.java</span></li><li class="c3 c19 li-bullet-0"><span class="c6">CustomAuthenticationProvider.java</span></li><li class="c3 c19 li-bullet-0"><span class="c6">WebSecurityConfig.java</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3"><li class="c3 c25 li-bullet-0"><span class="c6">controller/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4 start"><li class="c3 c19 li-bullet-0"><span class="c30 c31">TFGController.java</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3"><li class="c3 c25 li-bullet-0"><span class="c6">model/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4 start"><li class="c3 c19 li-bullet-0"><span class="c31 c30">TFG.java</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3"><li class="c3 c25 li-bullet-0"><span class="c6">TfgwebApplication.java</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-2"><li class="c3 c32 li-bullet-0"><span class="c6">resources/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3 start"><li class="c3 c25 li-bullet-0"><span class="c6">i18n/</span></li><li class="c3 c25 li-bullet-0"><span class="c6">static/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4 start"><li class="c3 c19 li-bullet-0"><span class="c6">css/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-5 start"><li class="c3 c12 li-bullet-0"><span class="c6">estilos.css</span></li><li class="c3 c12 li-bullet-0"><span class="c6">tema_dark.css</span></li><li class="c3 c12 li-bullet-0"><span class="c6">tema_light.css</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4"><li class="c3 c19 li-bullet-0"><span class="c6">img/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3"><li class="c3 c25 li-bullet-0"><span class="c6">templates/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4 start"><li class="c3 c19 li-bullet-0"><span class="c6">layouts/</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-5 start"><li class="c3 c12 li-bullet-0"><span class="c6">base.html</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-4"><li class="c3 c19 li-bullet-0"><span class="c6">formulario.html</span></li><li class="c3 c19 li-bullet-0"><span class="c6">lista.html</span></li><li class="c3 c19 li-bullet-0"><span class="c6">login.html</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-3"><li class="c3 c25 li-bullet-0"><span class="c6">application.properties</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-1"><li class="c3 c33 li-bullet-0"><span class="c6">test</span></li></ul><ul class="c11 lst-kix_hu7dnwb73f4j-0"><li class="c3 c4 li-bullet-0"><span class="c6">target/</span></li><li class="c3 c4 li-bullet-0"><span class="c6">.gitignore</span></li><li class="c3 c4 li-bullet-0"><span class="c6">HELP.md</span></li><li class="c3 c4 li-bullet-0"><span class="c6">mvnw</span></li><li class="c3 c4 li-bullet-0"><span class="c6">mvnw.cmd</span></li><li class="c3 c4 li-bullet-0"><span class="c30">pom.xml</span></li></ul></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c5">A efectos de facilitar la construcci&oacute;n de aplicaciones se proporcionan completos todos los ficheros excepto el nuevo modelo y nuevo controlador, que se explican a continuaci&oacute;n. Tambi&eacute;n se comentar&aacute;n partes de algunos ficheros de la carpeta </span><span class="c18 c5">templates</span><span class="c9 c5">.</span></p><h2 class="c21" id="h.kln0z1e6cips"><span class="c9 c24">El modelo TFG</span></h2><p class="c7"><span class="c9 c5">La clase TFG es la misma que hemos usado en el servicio de persistencia, pero mientras que all&iacute; val&iacute;a para respaldar datos en la base de datos y se pasaba a/de Java-JSON, su objetivo ahora es servir como modelo de datos que se va a inyectar en el c&oacute;digo HTML de la vista, y como plantilla de validaci&oacute;n para el formulario de creaci&oacute;n de TFGs.</span></p><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c9 c5">Observe que desaparecen las anotaciones de persistencia y se sustituyen por las de validaci&oacute;n. La clase de configuraci&oacute;n de la validaci&oacute;n se proporciona hecha.</span></p><a id="t.f0c4d9284764256971de4ce9f28e5e5663ae33d3"></a><a id="t.1"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">import javax.validation.constraints.Email;</span></p><p class="c3"><span class="c1">import javax.validation.constraints.NotEmpty;</span></p><p class="c3 c16"><span class="c1"></span></p><p class="c3"><span class="c1">public class TFG {</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; @Email</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private String email;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private String pass;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; @NotEmpty</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private String nombre;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; @NotEmpty</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private String titulo;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; @Email</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private String tutor;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private int status;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private byte[] memoria;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; private double nota;</span></p></td></tr></table><h2 class="c21" id="h.3yku4ydwkb3f"><span class="c9 c24">El controlador web</span></h2><p class="c7"><span class="c9 c5">Se proporcionan varios ficheros completos en el proyecto (en la carpeta config) que sirven de soporte a la ejecuci&oacute;n de la aplicaci&oacute;n web. CustomAuthenticationProvider contiene un mecanismo b&aacute;sico de autenticaci&oacute;n que se explicar&aacute; en el tema siguiente de la asignatura; por ahora es suficiente saber que a un usuario que se autentique con una direcci&oacute;n @upm.es se asignar&aacute; el rol de profesor, @alumnos.upm.es para estudiante, y admin@upm.es es la direcci&oacute;n del administrador; no se comprueban ni guardan contrase&ntilde;as.</span></p><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c5">Spring proporciona anotaciones para crear f&aacute;cilmente un controlador HTTP, al estilo de las que hemos visto para el controlador REST. Es una clase con anotaciones que asocian una ruta y primitiva HTTP con cada m&eacute;todo; en este caso s&oacute;lo se consideran v&aacute;lidas las primitivas GET y POST que son las que manejan los navegadores. A continuaci&oacute;n se muestra la cabecera de la clase, la definici&oacute;n de datos &uacute;tiles como la URL de acceso al servicio de persistencia, y un objeto </span><span class="c13">RestTemplate</span><span class="c9 c5">&nbsp;que implementa un cliente REST.</span></p><a id="t.1a27b8caf09eb24d0fbabf0989d2d910edfccfb2"></a><a id="t.2"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">@Controller</span></p><p class="c3"><span class="c1">public class TFGController {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public final String TFGMANAGER_STRING= &quot;http://localhost:8083/tfgs/&quot;;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public static final String VISTA_LISTA = &quot;lista&quot;;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public static final String VISTA_FORMULARIO = &quot;formulario&quot;;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private RestTemplate restTemplate = new RestTemplate();</span></p></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c5">Los accesos b&aacute;sicos se producen cuando el usuario no autenticado accede a la ra&iacute;z, o cuando llega una solicitud de login -hay filtros que implementan mecanismos de autenticaci&oacute;n. La orden GET sobre la ruta </span><span class="c13">/lista</span><span class="c9 c5">&nbsp;provoca la obtenci&oacute;n de la lista de TFGs en los que cada rol puede estar interesado.</span></p><a id="t.271ae8e483b7ac1f252c876927d681be13aeb01a"></a><a id="t.3"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@GetMapping(&quot;/&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String inicio() {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3 c16"><span class="c1"></span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@GetMapping(&quot;/login&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String login() {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3 c16"><span class="c1"></span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;@GetMapping(&quot;/lista&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String lista(Model model, Principal principal) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;TFG&gt; lista = new ArrayList&lt;TFG&gt;();</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (principal == null || principal.getName().equals(&quot;&quot;))</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lista = Arrays.asList(restTemplate.getForEntity(TFGMANAGER_STRING,</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TFG[].class).getBody());</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (principal.getName().contains(&quot;@upm.es&quot;))</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lista = Arrays.asList(restTemplate.getForEntity(TFGMANAGER_STRING</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + &quot;profesor/&quot; + principal.getName()</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; ,TFG[].class).getBody()); </span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (principal.getName().contains(&quot;@alumnos.upm.es&quot;)){</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { TFG tfg = restTemplate.getForObject(TFGMANAGER_STRING</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + principal.getName(), TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (tfg != null)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lista.add(tfg);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (Exception e) {}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute(&quot;tfgs&quot;, lista);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c9 c5">Algunos comentarios acerca del c&oacute;digo:</span></p><ul class="c11 lst-kix_42dq25wbvt93-0 start"><li class="c2 li-bullet-0"><span class="c5">cada m&eacute;todo lleva una anotaci&oacute;n </span><span class="c13">@GetMapping(ruta)</span><span class="c5">&nbsp;o </span><span class="c13">@PostMapping(ruta)</span><span class="c9 c5">, </span></li><li class="c2 li-bullet-0"><span class="c5">los m&eacute;todos devuelven una String que es el nombre del fichero html con la plantilla correspondiente (</span><span class="c13">lista</span><span class="c5">); los m&eacute;todos que redirigen la ejecuci&oacute;n a otro devuelven </span><span class="c13">&ldquo;redirect :/lista&rdquo;</span><span class="c5">, que provocar&aacute; que desde el navegador se env&iacute;e GET(</span><span class="c13">lista</span><span class="c9 c5">),</span></li><li class="c2 li-bullet-0"><span class="c5">un m&eacute;todo puede llevar como par&aacute;metro </span><span class="c13">Model</span><span class="c9 c5">&nbsp;para almacenar temporalmente una tabla de claves Strings y valores (cualquier objeto), como mecanismo para pasar informaci&oacute;n a la vista (al procesador de plantillas que tomar&aacute; esta informaci&oacute;n y la pondr&aacute; en el lugar correspondiente de la plantilla al generar HTML),</span></li><li class="c2 li-bullet-0"><span class="c5">si es necesario para comprobar informaci&oacute;n de autenticaci&oacute;n -que habr&aacute; sido puesta por los filtros del servidor que se han ejecutado antes de llegar al controlador- puede incluir un par&aacute;metro de tipo </span><span class="c13">Principal</span><span class="c9 c5">, que contiene el nombre con que se ha autenticado el usuario,</span></li><li class="c2 li-bullet-0"><span class="c5">por facilidad se ha previsto que si el email del usuario contiene </span><span class="c13">@upm.es</span><span class="c5">&nbsp;se trata de un profesor, y el cliente REST va a pedir la lista de TFGs en los que act&uacute;a como tutor (</span><span class="c13">TFGMANAGER_STRING+ &quot;profesor/&quot;+ principal.getName()</span><span class="c9 c5">),</span></li><li class="c2 li-bullet-0"><span class="c5">si el email del usuario corresponde a un </span><span class="c13">@alumno.upm.es</span><span class="c9 c5">&nbsp;se presupone que es un solicitante de TFG por lo que se solicita s&oacute;lo este TFG,</span></li><li class="c2 li-bullet-0"><span class="c9 c5">los usuarios no autenticados recibir&aacute;n la lista completa de TFGs en el sistema; ser&aacute; labor de la vista dejarles ver s&oacute;lo la informaci&oacute;n necesaria.</span></li></ul><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c9 c5">La parte del controlador para crear un nuevo TFG se separa en dos m&eacute;todos, el primero para devolver un formulario a trav&eacute;s del cual pedir el TFG, y el segundo al que se va cuando el usuario ha rellenado el formulario; si la validaci&oacute;n de formulario (se hace en el servidor) muestra que hay errores, se marcan y se sigue en la vista del formulario; si todo es correcto simplemente se env&iacute;a el TFG al servicio de persistencia para guardar.</span></p><a id="t.9ea485e425b1e0fc2960d16f5c2d1fc389a89ca2"></a><a id="t.4"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@GetMapping(&quot;/crear&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String crear(Map&lt;String, Object&gt; model) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TFG TFG = new TFG();</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.put(&quot;TFG&quot;, TFG);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.put(&quot;accion&quot;, &quot;guardar&quot;);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return VISTA_FORMULARIO;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@PostMapping(&quot;/guardar&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String guardar(@Validated TFG TFG, BindingResult result) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (result.hasErrors()) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return VISTA_FORMULARIO;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { restTemplate.postForObject(TFGMANAGER_STRING, TFG, TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch(Exception e) {}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c5">A la hora de modificar un TFG existente, de nuevo hay que hacerlo en dos fases: cuando el usuario pide editar un TFG del que tenga permiso, se recupera del servidor de persistencia y si existe se pone en el modelo para pasarlo a la vista de formulario. Observe c&oacute;mo se usa el modelo para pasarle a la vista formulario una variable </span><span class="c13">accion</span><span class="c5">&nbsp;que indica que el siguiente paso es actualizar el TFG en el servidor (en la vista el valor de </span><span class="c13">accion</span><span class="c5">&nbsp;se pondr&aacute; en la ruta de un formulario HTML de manera que cuando el usuario termina de editar se env&iacute;a una orden POST a la ruta </span><span class="c13">actualizar</span><span class="c5">). El m&eacute;todo </span><span class="c13">actualizar</span><span class="c5">&nbsp;es muy similar a </span><span class="c13">guardar</span><span class="c5">, excepto porque la orden al servicio de persistencia es ahora PUT en vez de POST, lo que permite al servidor actualizar el TFG s&oacute;lo si no exist&iacute;a antes. Al igual que con </span><span class="c13">RestController</span><span class="c9 c5">, se puede acceder a una parte de la ruta como par&aacute;metro del m&eacute;todo, o a un TFG que llega como cuerpo de la petici&oacute;n y es validado.</span></p><a id="t.b3789125e5a2f19a1523935d630940badfbe10d2"></a><a id="t.5"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@GetMapping(&quot;/editar/{id}&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String editar(@PathVariable(value = &quot;id&quot;) String id,</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Map&lt;String, Object&gt; model, Principal principal) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (principal == null || ! principal.getName().equals(id))</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TFG tfg = null;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { tfg = restTemplate.getForObject(TFGMANAGER_STRING + id, TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (HttpClientErrorException.NotFound ex) {}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.put(&quot;TFG&quot;, tfg);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.put(&quot;accion&quot;, &quot;../actualizar&quot;); </span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return tfg != null ? VISTA_FORMULARIO : &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@PostMapping(&quot;/actualizar&quot;) </span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String actualizar(@Validated TFG tfg, BindingResult result) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (result.hasErrors()) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return VISTA_FORMULARIO;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { restTemplate.put(TFGMANAGER_STRING + tfg.getEmail(),</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tfg, TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch(Exception e) {}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c5">Los dos siguientes m&eacute;todos tambi&eacute;n tienen efectos persistentes en un TFG concreto: eliminarlo o cambiar su estado (incrementando). Son dos formas diferentes de c&oacute;mo enfocar la autorizaci&oacute;n; en el caso de </span><span class="c13">eliminar</span><span class="c5">&nbsp;no se han puesto controles esperando que sea la vista la que no ofrezca esta ruta m&aacute;s que a los usuarios que pueden realizar la acci&oacute;n (aunque en teor&iacute;a podr&iacute;an activar la ruta directamente desde la barra de navegaci&oacute;n). En el caso de </span><span class="c13">aceptar</span><span class="c5">, s&iacute; se comprueba que el principal corresponde al profesor, pero no se impide que pueda hacerlo para cualquier valor del atributo </span><span class="c13">estado</span><span class="c9 c5">&nbsp;(lo que va a resultar muy &uacute;til si queremos que el profesor haga el trabajo de admin). Las comprobaciones se hacen sobre el TFG que se ha le&iacute;do del servidor de persistencia.</span></p><a id="t.80d884a44eb2385baa8aa0507fe5649a6eef69c7"></a><a id="t.6"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@GetMapping(&quot;/eliminar/{id}&quot;)</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public String eliminar(@PathVariable(value = &quot;id&quot;) String id) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;restTemplate.delete(TFGMANAGER_STRING+ id);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3 c16"><span class="c1"></span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;@GetMapping(&quot;/aceptar/{id}&quot;)</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;public String aceptar(@PathVariable(value = &quot;id&quot;) String id,</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Map&lt;String, Object&gt; model, Principal principal) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (principal != null) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { TFG tfg = restTemplate.getForObject(TFGMANAGER_STRING + id, </span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (tfg != null</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;&amp; principal.getName().equals(tfg.getTutor())) {</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;restTemplate.postForObject(TFGMANAGER_STRING</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +tfg.getEmail()+&quot;/incrementa&quot;, tfg, TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; model.put(&quot;TFG&quot;, tfg);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (HttpClientErrorException.NotFound ex) { }</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c9 c5">A continuaci&oacute;n puede encontrar la lista casi completa de importaciones:</span></p><a id="t.eb30f58a23e36e773f429b39b7de448d0cb52a5f"></a><a id="t.7"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c6">import java.security.Principal;</span></p><p class="c3"><span class="c6">import java.util.ArrayList;</span></p><p class="c3"><span class="c6">import java.util.Arrays;</span></p><p class="c3"><span class="c6">import java.util.List;</span></p><p class="c3"><span class="c6">import java.util.Map;</span></p><p class="c3 c16"><span class="c6"></span></p><p class="c3"><span class="c6">import org.springframework.core.io.ByteArrayResource;</span></p><p class="c3"><span class="c6">import org.springframework.http.HttpHeaders;</span></p><p class="c3"><span class="c6">import org.springframework.http.HttpStatus;</span></p><p class="c3"><span class="c6">import org.springframework.http.MediaType;</span></p><p class="c3"><span class="c6">import org.springframework.http.ResponseEntity;</span></p><p class="c3"><span class="c6">import org.springframework.stereotype.Controller;</span></p><p class="c3"><span class="c6">import org.springframework.ui.Model;</span></p><p class="c3"><span class="c6">import org.springframework.validation.BindingResult;</span></p><p class="c3"><span class="c6">import org.springframework.validation.annotation.Validated;</span></p><p class="c3"><span class="c6">import org.springframework.web.bind.annotation.GetMapping;</span></p><p class="c3"><span class="c6">import org.springframework.web.bind.annotation.PathVariable;</span></p><p class="c3"><span class="c6">import org.springframework.web.bind.annotation.PostMapping;</span></p><p class="c3"><span class="c6">import org.springframework.web.bind.annotation.RequestMapping;</span></p><p class="c3"><span class="c6">import org.springframework.web.bind.annotation.RequestParam;</span></p><p class="c3"><span class="c6">import org.springframework.web.bind.annotation.ResponseBody;</span></p><p class="c3"><span class="c6">import org.springframework.web.client.HttpClientErrorException;</span></p><p class="c3"><span class="c6">import org.springframework.web.client.RestTemplate;</span></p><p class="c3"><span class="c6">import org.springframework.web.multipart.MultipartFile;</span></p></td></tr></table><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c9 c5">Finalmente se incluyen -s&oacute;lo a t&iacute;tulo informativo- controles para subir un fichero correspondiente a la memoria del TFG para almacenamiento como parte de &eacute;ste cuando se alcanza el estado correspondiente, y el m&eacute;todo para bajar ese fichero al navegador.</span></p><a id="t.56b315998f5ad22d4a72cf2b9592eae85b607641"></a><a id="t.8"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp;@PostMapping(&quot;/upload&quot;)</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp;public String uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file, </span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@RequestParam(&quot;email&quot;) String email, Principal principal) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (principal == null || principal.getName() == null ||</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ! principal.getName().equals(email) || file.isEmpty())</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { TFG tfg = restTemplate.getForObject(TFGMANAGER_STRING + email, TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (tfg != null &amp;&amp; tfg.getStatus() == 3) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tfg.setStatus(tfg.getStatus() + 1);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tfg.setMemoria(file.getBytes());</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;restTemplate.put(TFGMANAGER_STRING + tfg.getEmail(),</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tfg,TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (Exception e) {}</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;return &quot;redirect:/&quot; + VISTA_LISTA;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c3 c16"><span class="c1"></span></p><p class="c3"><span class="c1">&nbsp; &nbsp; @GetMapping(&quot;/download/{email}&quot;)</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; @ResponseBody</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; public ResponseEntity&lt;ByteArrayResource&gt; getFile(@PathVariable String email) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try { TFG tfg = restTemplate.getForObject(TFGMANAGER_STRING + email, TFG.class);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (tfg != null &amp;&amp; tfg.getMemoria() != null) {</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; HttpHeaders header = new HttpHeaders();</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; header.setContentType(new MediaType(&quot;application&quot;, &quot;force-download&quot;));</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; header.set(HttpHeaders.CONTENT_DISPOSITION,</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;attachment; filename=\&quot;TFG.pdf\&quot;&quot;);</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; ByteArrayResource resource = new ByteArrayResource(tfg.getMemoria());</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; return new ResponseEntity&lt;ByteArrayResource&gt;(resource,</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;header, HttpStatus.CREATED);</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (Exception e) {}</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new ResponseEntity&lt;ByteArrayResource&gt;(HttpStatus.NOT_FOUND);</span></p><p class="c3"><span class="c1">&nbsp; &nbsp;}</span></p></td></tr></table><h2 class="c21" id="h.93me9qn4yqff"><span class="c9 c24">Las vistas: plantillas Thymeleaf</span></h2><p class="c7"><span class="c5 c9">Ni HTML ni css son contenidos de esta asignatura, por lo que se dan hechos los ficheros css y html del caso de estudio. Pero al hacer los casos de estudio, puede resultar &uacute;til conocer los mecanismos por los que la vista muestra la informaci&oacute;n que los controladores han puesto en los modelos; tambi&eacute;n entender c&oacute;mo se puede usar directamente en la vista la informaci&oacute;n de autenticaci&oacute;n obtenida por los filtros HTTP del servidor, para autorizar o no el acceso a partes de la vista -activando o no botones o enlaces a rutas de la aplicaci&oacute;n.</span></p><p class="c7 c16"><span class="c9 c5"></span></p><p class="c7"><span class="c9 c5">Se incluye el fragmento de plantilla Thymeleaf y una breve explicaci&oacute;n:</span></p><ul class="c11 lst-kix_blv90bfbbgar-0 start"><li class="c2 li-bullet-0"><span class="c5">Para recorrer una lista de TFGs y mostrar sus atributos como celdas de una tabla hay que usar las claves </span><span class="c13">th:each</span><span class="c5">&nbsp;y </span><span class="c13">th:text</span><span class="c5">, donde </span><span class="c13">${TFG.email}</span><span class="c9 c5">&nbsp;accede al atributo del objeto correspondiente -recuerde que la plantilla se procesa en el servidor-</span></li></ul><a id="t.b05c123e6233282a916ddf309d8e10805d9fff86"></a><a id="t.9"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr th:each=&quot;TFG: ${tfgs}&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td th:text=&quot;${TFG.email}&quot;&gt;&lt;/td&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td th:text=&quot;${TFG.nombre}&quot;&gt;&lt;/td&gt;</span></p></td></tr></table><ul class="c11 lst-kix_blv90bfbbgar-0"><li class="c2 li-bullet-0"><span class="c5">Para mostrar enlaces a operaciones sobre un TFG s&oacute;lo si el usuario se ha autenticado correctamente hay que poner los enlaces en una secci&oacute;n </span><span class="c13">span</span><span class="c5">&nbsp;con una expresi&oacute;n relacionada con la autenticaci&oacute;n; los enlaces se definen con </span><span class="c13">th:href</span><span class="c5">, y </span><span class="c13">@{editar/}</span><span class="c5">&nbsp;</span><span class="c13">+ ${TFG.email} </span><span class="c5">crear&aacute; la URL completa en la aplicaci&oacute;n web, </span><span class="c13">#{tfgs.acciones.editar}</span><span class="c9 c5">&nbsp;se sustituye por una String que leer&aacute; de un fichero de texto e internacionalizaci&oacute;n</span></li></ul><a id="t.d4d140b3471e3e368f841e7d77475e9d3545fe22"></a><a id="t.10"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&lt;span sec:authorize=&quot;isAuthenticated()&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td th:text=&quot;${TFG.status}&quot;&gt;&lt;/td&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;a th:href=&quot;@{editar/} + ${TFG.email}&quot;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; th:text=&quot;#{tfgs.acciones.editar}&quot; class=&quot;btn btn-outline-primary&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp;&lt;td&gt;&lt;a th:href=&quot;@{eliminar/} + ${TFG.email}&quot;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; th:text=&quot;#{tfgs.acciones.eliminar}&quot; class=&quot;btn btn-outline-danger&quot;&gt;&lt;/a&gt;&lt;/td&gt;</span></p><p class="c3"><span class="c1">&lt;/span&gt;</span></p></td></tr></table><ul class="c11 lst-kix_blv90bfbbgar-0"><li class="c2 li-bullet-0"><span class="c5">A continuaci&oacute;n se muestra el formulario para crear un TFG o para modificarlo si existe, con validaci&oacute;n controlada por las anotaciones de la clase TFG; la acci&oacute;n </span><span class="c13">th:action=&quot;@{${accion}}&quot;</span><span class="c18 c35">&nbsp;</span><span class="c5">va a poner como atributo </span><span class="c13">accion</span><span class="c5">&nbsp;el enlace que obtenga al evaluar el valor de la variable </span><span class="c13">${accion}</span><span class="c5">. Tambi&eacute;n se observa en las &uacute;ltimas l&iacute;neas el bot&oacute;n para realizar esa acci&oacute;n, y el</span><span class="c5">&nbsp;enlace para cancelar la edici&oacute;n, que vuelve a la vista </span><span class="c13">lista</span><span class="c9 c5">.</span></li></ul><a id="t.beeb2d4c7c09d16f6fa083177fcfd9b4ecda47f4"></a><a id="t.11"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">&lt;form th:action=&quot;@{${accion}}&quot; th:object=&quot;${TFG}&quot; method=&quot;post&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;form-group row&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class=&quot;col-sm-2 col-form-label&quot; th:text=&quot;#{tfgs.TFG.email}&quot;&gt;&lt;/label&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div class=&quot;col-sm-6&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;small class=&quot;form-text text-danger&quot;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; th:if=&quot;${#fields.hasErrors(&#39;email&#39;)}&quot; th:errors=&quot;*{email}&quot;&gt;&lt;/small&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/div&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;form-group row&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class=&quot;col-sm-2 col-form-label&quot; th:text=&quot;#{tfgs.TFG.status}&quot;&gt;&lt;/label&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div class=&quot;col-sm-6&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;number&quot; th:field=&quot;*{status}&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;small class=&quot;form-text text-danger&quot;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; th:if=&quot;${#fields.hasErrors(&#39;status&#39;)}&quot; th:errors=&quot;*{status}&quot;&gt;&lt;/small&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/div&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;form-group&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div class=&quot;col-sm-6&quot;&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; th:value=&quot;#{tfgs.acciones.guardar}&quot;</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; class=&quot;btn btn-outline-primary&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;a th:href=&quot;@{${accion} == &#39;guardar&#39; OR ${#fields.hasErrors(&#39;*&#39;)}</span></p><p class="c3"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ? &#39;lista&#39; : &#39;../lista&#39;}&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class=&quot;btn btn-outline-danger&quot; th:text=&quot;#{tfgs.acciones.cancelar}&quot;&gt;&lt;/a&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/div&gt;</span></p><p class="c3"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span></p><p class="c3"><span class="c1">&lt;/form&gt;</span></p></td></tr></table><p class="c7 c16"><span class="c8"></span></p><p class="c7"><span class="c9 c5">Para probar el funcionamiento correcto de la aplicaci&oacute;n web es conveniente abrir dos ventanas de terminal y:</span></p><ol class="c11 lst-kix_a5ziv4d27ioh-0 start" start="1"><li class="c2 li-bullet-0"><span class="c5">arrancar el servicio que contiene la capa de persistencia </span><span class="c5 c18">tfgapi0</span><span class="c5">, en su carpeta:</span></li></ol><a id="t.3466a7318c28ffd7e6318146bd773154a950fed2"></a><a id="t.12"></a><table class="c0"><tr class="c29"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">./mvnw clean install spring-boot:run -DskipTests=true</span></p></td></tr></table><p class="c7 c16"><span class="c9 c5"></span></p><ol class="c11 lst-kix_a5ziv4d27ioh-0" start="2"><li class="c2 li-bullet-0"><span class="c5">en la otra ventana arrancar el servicio con la aplicaci&oacute;n web </span><span class="c18 c5">tfgweb0</span><span class="c5">, en su carpeta:</span></li></ol><a id="t.3466a7318c28ffd7e6318146bd773154a950fed2"></a><a id="t.13"></a><table class="c0"><tr class="c14"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span class="c1">./mvnw clean install spring-boot:run -DskipTests=true</span></p></td></tr></table><p class="c16 c28"><span class="c8"></span></p><p class="c7"><span class="c5">Y finalmente en su navegador puede ir a la direcci&oacute;n </span><span class="c13">http://localhost:8080</span><span class="c5">&nbsp;que lanza la aplicaci&oacute;n web con el frontend de servidor y muestra la lista inicialmente vac&iacute;a de TFGs y los botones para autenticarse y crear un nuevo TFG. Si ha llegado hasta aqu&iacute; le agradecer&iacute;a que me enviara un mensaje de correo indicando las dificultades que haya podido encontrar, o su opini&oacute;n sobre este caso de estudio.</span></p><div><p class="c15"><span class="c8"></span></p><p class="c3 c16 c26"><span class="c8"></span></p></div></body></html>