<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_tjdox5fgweyu-6>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-5>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-4>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-2>li:before{content:"-  "}.lst-kix_apxt72ypeb79-3>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-1>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-3>li:before{content:"-  "}.lst-kix_apxt72ypeb79-2>li:before{content:"-  "}.lst-kix_apxt72ypeb79-1>li:before{content:"-  "}.lst-kix_apxt72ypeb79-0>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-0>li:before{content:"-  "}ul.lst-kix_apxt72ypeb79-5{list-style-type:none}ul.lst-kix_apxt72ypeb79-6{list-style-type:none}ul.lst-kix_apxt72ypeb79-7{list-style-type:none}ul.lst-kix_apxt72ypeb79-8{list-style-type:none}.lst-kix_apxt72ypeb79-4>li:before{content:"-  "}.lst-kix_apxt72ypeb79-5>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-7>li:before{content:"-  "}.lst-kix_apxt72ypeb79-6>li:before{content:"-  "}.lst-kix_apxt72ypeb79-8>li:before{content:"-  "}.lst-kix_tjdox5fgweyu-8>li:before{content:"-  "}.lst-kix_apxt72ypeb79-7>li:before{content:"-  "}ul.lst-kix_volod2qrkqaj-3{list-style-type:none}ul.lst-kix_volod2qrkqaj-4{list-style-type:none}ul.lst-kix_volod2qrkqaj-5{list-style-type:none}ul.lst-kix_volod2qrkqaj-6{list-style-type:none}ul.lst-kix_volod2qrkqaj-0{list-style-type:none}ul.lst-kix_volod2qrkqaj-1{list-style-type:none}ul.lst-kix_volod2qrkqaj-2{list-style-type:none}ul.lst-kix_tjdox5fgweyu-8{list-style-type:none}ul.lst-kix_tjdox5fgweyu-0{list-style-type:none}ul.lst-kix_tjdox5fgweyu-1{list-style-type:none}ul.lst-kix_tjdox5fgweyu-2{list-style-type:none}ul.lst-kix_tjdox5fgweyu-3{list-style-type:none}ul.lst-kix_apxt72ypeb79-0{list-style-type:none}ul.lst-kix_tjdox5fgweyu-4{list-style-type:none}ul.lst-kix_apxt72ypeb79-1{list-style-type:none}ul.lst-kix_tjdox5fgweyu-5{list-style-type:none}ul.lst-kix_apxt72ypeb79-2{list-style-type:none}ul.lst-kix_tjdox5fgweyu-6{list-style-type:none}ul.lst-kix_apxt72ypeb79-3{list-style-type:none}ul.lst-kix_tjdox5fgweyu-7{list-style-type:none}ul.lst-kix_apxt72ypeb79-4{list-style-type:none}.lst-kix_volod2qrkqaj-3>li:before{content:"\0025cf  "}.lst-kix_volod2qrkqaj-2>li:before{content:"\0025a0  "}.lst-kix_volod2qrkqaj-6>li:before{content:"\0025cf  "}.lst-kix_volod2qrkqaj-7>li:before{content:"\0025cb  "}.lst-kix_volod2qrkqaj-1>li:before{content:"\0025cb  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_volod2qrkqaj-0>li:before{content:"\0025cf  "}.lst-kix_volod2qrkqaj-8>li:before{content:"\0025a0  "}.lst-kix_volod2qrkqaj-5>li:before{content:"\0025a0  "}ul.lst-kix_volod2qrkqaj-7{list-style-type:none}ul.lst-kix_volod2qrkqaj-8{list-style-type:none}.lst-kix_volod2qrkqaj-4>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c12{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.2pt;border-top-color:#000000;border-bottom-style:solid}.c4{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63pt;border-top-color:#000000;border-bottom-style:solid}.c20{padding-top:20pt;padding-bottom:0pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:7pt;font-family:"Arial";font-style:normal}.c10{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c5{padding-top:18pt;padding-bottom:6pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c15{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:center;height:11pt}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify;height:11pt}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c22{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:center}.c24{padding-top:18pt;padding-bottom:10pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c18{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left}.c23{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:right}.c6{padding-top:35.5pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:right}.c16{border-spacing:0;border-collapse:collapse;margin-right:auto}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c25{background-color:#ffffff;max-width:451.5pt;padding:72pt 72pt 72pt 72pt}.c3{padding:0;margin:0}.c11{margin-left:36pt;padding-left:0pt}.c26{font-family:"Verdana";font-weight:700}.c21{font-style:italic}.c19{height:0pt}.c17{height:11pt}.c14{font-size:10pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c25 doc-content"><div><p class="c6"><span class="c14 c26">ISST-Tema 4-Dise&ntilde;o</span></p></div><h1 class="c20" id="h.gjdgxs"><span class="c10">ISST Tema 4 &ndash; Arquitecturas de servicios Java</span></h1><h1 class="c20" id="h.30j0zll"><span class="c10">DISE&Ntilde;O DEL CASO GENERAL </span></h1><h2 class="c5" id="h.1fob9te"><span class="c7">Objetivo</span></h2><p class="c9"><span class="c0">Describir el dise&ntilde;o de la aplicaci&oacute;n Web del caso general, que se usar&aacute; despu&eacute;s para ilustrar la programaci&oacute;n de aplicaciones Web con Spring Boot para Java de servidor. </span></p><h2 class="c5" id="h.3znysh7"><span class="c7">Descripci&oacute;n del caso</span></h2><p class="c9"><span class="c0">Este caso plantea el desarrollo de un sistema basado en tecnolog&iacute;as Web para la gesti&oacute;n de Trabajos de Fin de Grado en centros universitarios. El sistema debe dar soporte a estudiantes, profesores, &oacute;rganos de gesti&oacute;n acad&eacute;mica y personal de secretar&iacute;a de alumnos para la gesti&oacute;n electr&oacute;nica del proceso de propuesta, entrega y calificaci&oacute;n del TFG.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">El sistema debe proporcionar un mecanismo sencillo y &aacute;gil para la gesti&oacute;n electr&oacute;nica distribuida del proceso de gesti&oacute;n acad&eacute;mica y administrativa de los Trabajos Fin de Grado, sin utilizaci&oacute;n de documentos en papel o firmas manuscritas y tratando de minimizar el uso &nbsp;de procesos administrativos off-line.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">En el caso que planteamos, un alumno del centro universitario que re&uacute;na los requisitos acad&eacute;micos necesarios puede utilizar el sistema para registrar la solicitud de un Trabajo Fin de Grado, que consta de un t&iacute;tulo, un tutor propuesto y un resumen de objetivos y metodolog&iacute;a para el trabajo. El tutor debe ser un profesor adscrito al centro universitario.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Los tutores propuestos para la direcci&oacute;n de &nbsp;los trabajos reciben del sistema una notificaci&oacute;n por correo electr&oacute;nico que contiene un enlace a la solicitud de TFG en el sistema. El sistema, tras su autenticaci&oacute;n, ofrecer&aacute; al profesor propuesto como tutor la opci&oacute;n de aceptar o denegar la direcci&oacute;n del TFG. En caso de que el profesor acepte, el sistema notifica al alumno, mediante correo electr&oacute;nico, el resultado de su propuesta. La denegaci&oacute;n pone fin al proceso y archiva la solicitud.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Los trabajos aceptados por el tutor son enviados al buz&oacute;n electr&oacute;nico de la Comisi&oacute;n de Ordenaci&oacute;n Acad&eacute;mica (COA) del centro para su estudio y aprobaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">El personal de secretar&iacute;a de alumnos del centro registrar&aacute; la decisi&oacute;n de la COA en cuanto a la denegaci&oacute;n o aceptaci&oacute;n definitiva del trabajo. La decisi&oacute;n de la COA es notificada mediante correo electr&oacute;nico al alumno solicitante. La denegaci&oacute;n pone fin al proceso y archiva la solicitud. La aceptaci&oacute;n definitiva del trabajo por la COA autoriza al alumno a comenzar la elaboraci&oacute;n del proyecto.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Una vez finalizado el trabajo y redactada la memoria de acuerdo a la normativa del centro, el alumno utiliza el sistema para entregar la memoria y solicitar su lectura y defensa. El tutor revisa la memoria final y propone la defensa del TFG; en caso de no cumplirse los requisitos de calidad previstos, el TFG vuelve a la situaci&oacute;n original previa a la entrega de la memoria. La propuesta de defensa del TFG que rellena el tutor se recibe en la Secretar&iacute;a Acad&eacute;mica, que consulta con el sistema de gesti&oacute;n acad&eacute;mica de la Universidad (Universitas XXI) el cumplimiento de los requisitos acad&eacute;micos y de matr&iacute;cula para la lectura y defensa del TFG. Si se cumplen los requisitos, se notificar&aacute; al estudiante y su tutor la fecha propuesta para la defensa.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Una vez finalizada la lectura y defensa del TFG, el tutor utiliza el sistema para registrar el acta de lectura (fecha, hora, miembros del tribunal presentes, calificaci&oacute;n y, en su caso, propuesta de menci&oacute;n de matr&iacute;cula de honor). El sistema env&iacute;a el acta de lectura a Secretar&iacute;a para su tramitaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">La Secretar&iacute;a comprueba el cumplimiento de requisitos acad&eacute;micos y econ&oacute;micos y acepta, en su caso, la propuesta de matr&iacute;cula, para elevar a definitiva el acta de lectura del TFG. Finalmente, el sistema env&iacute;a copia electr&oacute;nica de la memoria del TFG a la biblioteca del centro para su exposici&oacute;n y consulta.</span></p><h2 class="c5"><span class="c7">Dise&ntilde;o del modelo de datos</span></h2><p class="c9"><span class="c0">El primer paso para el dise&ntilde;o detallado de la aplicaci&oacute;n consiste en plantear el modelo de datos; para ello se suelen usar diagramas de clase UML en los cuales no aparecen detalles de implementaci&oacute;n, sino s&oacute;lo las entidades que forman parte del dominio (las principales entidades mencionadas en la descripci&oacute;n anterior). Conviene simplificar el modelo usando las t&eacute;cnicas relacionadas con el modelado de Bases de Datos relacionales.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Las entidades que van a jugar un papel relevante son: el TFG que a su vez representa al alumno que solicita y va a realizar el trabajo, el Profesor que supervisa el trabajo (un Profesor supervisa varios) y el Administrador, que es un objeto &uacute;nico en la aplicaci&oacute;n y accede a toda la informaci&oacute;n, adem&aacute;s de dar de alta Profesores.</span></p><p class="c17 c18"><span class="c0"></span></p><p class="c22"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 213.33px; height: 93.33px;"><img alt="Captura de pantalla de un celular con texto

Descripci&oacute;n generada autom&aacute;ticamente" src="https://lh3.googleusercontent.com/u/0/docs/AG8NV2b5Lh70I4zmScqdMN7OYlFDlywBsCMjKc-AZrrRtnECOGZOPgH2uYN9sv9JkIRnc9zbrQffAwm9E71uqO8h04DTveFYmcIFzGq7hPmQNMXvazwfW89e23fT17mUH_0kqLel3bn6PmGPBiKqZRulTNBWIe9HJpOJBv6Ke8rqMFBNqUw7pM14lqy__bEHXaJ66Zu6cju4BCIQ6ll-tE-MURkhZ3UrtsMGZX1V9xVEc-3ssWVIBHMn4lz3atZFWQoek608L9JYCyDwNK7EiSriNlnxN6gmGuPgk9VY7ahaxJYhiXFxQdRbcMe9hn7wlzytp_XED7-n3bQdz9qHE8w8vi8YBFh698rYuNVkfJRe8pXg47FiglkICqUBN1img0ceZHumaE6IdCUMUynL3fab2jph4pACbnYCwNK2aeMtUOTVleAbyNZYxOk_qT-tb1rthfj12Y6JCahAk0w_zGbtIf5X5yeb6dxdV9lv7uz4rZreX0m3bMs67ZvZ8zIj2skciJWec-JpnxfkFWnZ-F41_Ev8evLD0-mld11XcUUaItAoK_tZHdKaVoBtFkgjAkpGt_LXh11yrfS4dpO9XfN-AFYRQ_3IzuZRcqkvGbLo5j-d3OPXF3TPL-Yz8Xfv8ZOjyYaYmEzule4Zo4FDjbON5X5xTnZIq9bgwBUD23AH06MtFi2l_NAVIrE3l662D1LY0JfbxEEfGmqZDgO9pu5ezDF0BNp6WPuOen6OA8UhQAmp7Eo4mgAlesBKimOl5YH6fDs3jS-3rwFSeotkG8dhnSwLA3DgnoxcSSOMPTMDTitkwvpvTl_0Os3w3i7hHTj4bSa2Uuq1r29g6OLJfcFuzsiSA1cOwCp-xmt6YuNYx_-CUgZdxes2aTjsGdin9EBQ4AX3SjDXwMKkT0enCOazdnE_dWreq-AdDoGn8R8TVwXnm2jtRK49VhlKKJXyYg" style="width: 213.33px; height: 93.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Sin embargo, de acuerdo a la metodolog&iacute;a DDD (Domain Driven Design), es preciso simplificar al m&aacute;ximo el modelo de datos, lo cual es adem&aacute;s adecuado para este caso de estudio que tiene un prop&oacute;sito de ilustraci&oacute;n de conceptos. Vamos a usar varias reducciones que ayudar&aacute;n a desarrollar el c&oacute;digo m&aacute;s r&aacute;pidamente:</span></p><ul class="c3 lst-kix_volod2qrkqaj-0 start"><li class="c9 c11 li-bullet-0"><span class="c0">no es necesario gestionar la entidad Profesor si el mecanismo de autenticaci&oacute;n se delega a otro servidor. No es necesario por tanto guardar sus atributos como entidad separada, y las relaciones con Admin y TFG desaparecen. En lugar de un objeto Profesor vamos a manejar &uacute;nicamente una String con su email.</span></li><li class="c9 c11 li-bullet-0"><span class="c0">la entidad Admin es un objeto est&aacute;tico, del cual s&oacute;lo necesitamos establecer su identificador y su contrase&ntilde;a (que podr&iacute;amos igualmente delegar a un servicio externo de autenticaci&oacute;n, y que por facilitar las pruebas vamos a definir program&aacute;ticamente). La relaci&oacute;n de gesti&oacute;n con TFG se va a definir enumerando las operaciones de la aplicaci&oacute;n web que el Admin puede realizar sobre un TFG; de esta forma una relaci&oacute;n en un modelo de datos se convierte en operaciones sobre el TFG controladas por mecanismos de autorizaci&oacute;n.</span></li><li class="c9 c11 li-bullet-0"><span class="c0">la entidad TFG contendr&aacute; en el campo tutor el email del profesor que hace esta funci&oacute;n.</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Con estas simplificaciones queda una &uacute;nica entidad en el sistema y por tanto una &uacute;nica tabla en la base de datos de respaldo. Es importante darse cuenta de que estas simplificaciones s&oacute;lo son posibles si los mecanismos de autenticaci&oacute;n se delegan a un servidor aparte de la aplicaci&oacute;n web, como en nuestro caso puede ser moodle para identidades @alumnos.upm.es (TFGs) y @upm.es (profesores), como se ver&aacute; en otros temas de la asignatura.</span></p><p class="c24"><span class="c7">Requisitos no funcionales</span></p><p class="c9"><span class="c0">Los RNF de nuestra aplicaci&oacute;n son similares a los de otros sistemas de informaci&oacute;n. No impondremos ninguno sobre la fiabilidad ni el rendimiento.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Seguridad: los accesos de usuarios deben de estar protegidos por esquemas de autenticaci&oacute;n y autorizaci&oacute;n. La autenticaci&oacute;n se har&aacute; en base a credenciales usuario-contrase&ntilde;a, provistos por la aplicaci&oacute;n o servicios externos. La autorizaci&oacute;n en el acceso a funcionalidad y recursos debe asegurarse en funci&oacute;n del rol de cada usuario.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Operaci&oacute;n: la aplicaci&oacute;n debe soportar el est&aacute;ndar HTML en los principales navegadores, en particular Chrome.</span></p><p class="c2"><span class="c15"></span></p><p class="c9"><span class="c7">Arquitectura l&oacute;gica</span></p><p class="c9"><span class="c0">Las aplicaciones web siguen el modelo arquitect&oacute;nico cliente-servidor con tres niveles. El c&oacute;digo del servidor se divide normalmente en las capas de presentaci&oacute;n, l&oacute;gica del servicio y persistencia. A continuaci&oacute;n se muestra una vista gen&eacute;rica de una aplicaci&oacute;n como la del caso de estudio en la que no hay l&oacute;gica compleja de servicio y por tanto no aparece, y las capas de persistencia y de presentaci&oacute;n est&aacute;n separadas, cada una en su propio contenedor y con procesos separados.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 220.00px;"><img alt="" src="https://lh3.googleusercontent.com/u/0/docs/AG8NV2ZMDPm2SFdCe_Uf6j1_vzNAnOQWcaFc6XaJG-VEw0Bz8cAIw-GUit0NqO_eJ0USAR3vD1nq71EM3_wrwgTPWqyn-N919V3WrSIbMkj7-XlAHj6oY_8cXDa-eCI_aqYcSekS1pFIYOKcv8kg2XJ_IT-dCA5QNaFlPLmvAO6EDiJObYhUYws8U1cAghJeuHcC3MZoBLCoqVp0GdsDXoNblzqvxyAgdQNqEIs-p21DMfqkhlnW7Rj6lD38TixDqbrnmC2szmL2Uv8boNUC2m0RE8GdafuX_kKoas69ZrwSnSLvak2R2Cug5cR201AkMfUSJckmJtmzu0EVvSd8yIOcrsUoYy7sI02hlNVPrS2QYGYKKx4zU6ceqk4exzymDqtE3T96IY1UA1fxDfHO-gfGQ-5dYr-vjBWCj5B5cXi2L9Ya48VJL5qauoiKA2kkU78m2SLZKMxUq4VJH4iGPen8bY4kEXgQfeC98mQRjfbekK8lM3Cx6rOgc6n-4-yjdREwnOiWyhUyjvhQmY0L1p9ntlWQIDT6McOvIrTSS4ZcBlVUo3_aWMwKeRZEsWPRJP27ORnSXrLMbvEKZaR-gRsBW6g96Ee6Z54gBFi48qoq7cv6bmBSc5JYheZsD2evMs7X4htHeut-UUervwPkRMkHO2h6hR8RkLiN0RSOzc0ZGtxBtkQ485yrTBkVd6xCEP6OnuwpWN9juUPkHIUTn4LUHGTZqHajp5fnSoFsZU8VGcbABglhUm5T-D7ex8b0iDYs1DlrPnkdO0xgEpopmp7A0_VHsCBVZdBk5fmvx7pA2dwjO5LV4Aevi0QC53jTSDM_baGoyw09JC9smUtoKC2Aem7sn2THefyYbHlQsIFPSJUxKvmvitWvMvhBrqUOHUavm2Ykf652ISTltCOVphdP1y3iQibwsISgeYV5fZyi5UTP0S7Z-ws7-WNqcgVL9A" style="width: 601.70px; height: 220.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">La capa de persistencia usa JPA para facilitar el acceso a la base de datos h2, y ofrece las funciones de persistencia de TFG como servicios REST a los cuales se accede mediante HTTP+JSON. Las peticiones podr&iacute;an enviarse desde una aplicaci&oacute;n de cliente basada en cualquier biblioteca Javascript, aunque nosotros lo vamos a hacer desde la capa de presentaci&oacute;n tambi&eacute;n en Java, que estar&aacute; compuesta por m&oacute;dulos Model-View-Controller, e interact&uacute;an con el servicio REST de persistencia con el que quieran interactuar. La figura muestra los detalles de componentes en cada capa, de los cuales s&oacute;lo los de fondo blanco deben ser desarrollados, los dem&aacute;s vienen hechos en las bibliotecas del proyecto.</span></p><h2 class="c5" id="h.2et92p0"><span>Funcionalidad de la aplicaci&oacute;n</span><span class="c7">: ciclo de vida del TFG</span></h2><p class="c9"><span class="c0">Tras leer cuidadosamente el enunciado del caso de estudio, se concluye que hay un elemento de informaci&oacute;n fundamental en la aplicaci&oacute;n, que es la solicitud de TFG (solicitud, o TFG a partir de ahora) que deber&aacute; ir progresando a trav&eacute;s de varias fases que reflejan las actividades que el alumno proponente, el profesor-tutor, o el Administrador -entre otros- han de realizar hasta conseguir el reconocimiento administrativo e inclusi&oacute;n en el expediente del alumno de su Trabajo Fin de Grado.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Esta situaci&oacute;n es com&uacute;n a muchas aplicaciones Web en las que hay un tr&aacute;mite que va acumulando informaci&oacute;n aportada por diferentes actores y as&iacute; puede progresar hasta su finalizaci&oacute;n; en realidad las actividades se llevan a cabo fuera de la aplicaci&oacute;n y esta permite registrar los cambios de estado en ese elemento central de informaci&oacute;n. Estas aplicaciones, o los servicios que las implementan, se suelen llamar de flujos de trabajo (workflows), y resulta muy &uacute;til el enfoque de dise&ntilde;o basado en la definici&oacute;n de una m&aacute;quina -o aut&oacute;mata- de estados, en donde cada uno de los estados representa una situaci&oacute;n del TFG (normalmente esperando a que ocurra algo) y de un estado se puede avanzar a otro u otros mediante unas transiciones o cambios de estado.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Adoptaremos este enfoque para el dise&ntilde;o de nuestra aplicaci&oacute;n. Lo primero que debe hacer es identificar las situaciones de espera del TFG y representarlas como estados (cajas con nombre); identificar un estado inicial en el que no existe la solicitud (c&iacute;rculo negro), y un estado final en donde deja de existir (doble c&iacute;rculo con el interior negro). Y entre los estados se establecer&aacute;n las transiciones posibles que han de mostrarse como flechas del estado saliente al entrante. Sobre cada transici&oacute;n es posible indicar cu&aacute;l es el evento que la dispara, si hay alguna condici&oacute;n que deba cumplirse cuando se produce el evento, y las acciones que deben realizarse al pasar al estado destino. Aunque existe un tipo de diagrama est&aacute;ndar UML para representarlo (hemos usado diagramas gen&eacute;ricos de la herramienta draw.io), no vamos a hacer uso de las capacidades de generaci&oacute;n de c&oacute;digo, sino que nuestro prop&oacute;sito es dise&ntilde;ar el flujo correcto de operaciones antes de programarlo usando la tecnolog&iacute;a Java de servidor.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Seg&uacute;n se va realizando el diagrama, resulta &uacute;til identificar a los actores que van a realizar cada interacci&oacute;n -en nuestro caso se han colocado los estados de los que sale cada actor en la misma columna. Tambi&eacute;n es &uacute;til comprobar sobre el diagrama que existe un camino completo desde el estado inicial al final, y que no hay transiciones que nos llevan a puntos muertos. Estudie el diagrama que se presenta, o mejor a&uacute;n intente hacer el suyo propio y comp&aacute;relo con este, porque va a servir de gu&iacute;a a lo largo del tema de la asignatura, aunque resulta demasiado elaborado para el prop&oacute;sito did&aacute;ctico de esta pr&aacute;ctica.</span></p><p class="c2"><span class="c15"></span></p><p class="c22"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 348.85px; height: 239.24px;"><img alt="Captura de pantalla de un celular

Descripci&oacute;n generada autom&aacute;ticamente" src="https://lh3.googleusercontent.com/u/0/docs/AG8NV2bpo3D2Qoxs8aLaE9t7mhHZOilb38ukqYGp-8s-lBgPV_PifyZpgOHpJEgFMerxxTCCBhCj-dny6wsx-OtUvu3XlOz6iSYGynVkzXDietqWSnoVAfI30s4KPjPub85eKIg-xY5sN4-UczsZ3ZVBuUri1nOHmCxQp9bQDA5djDmQC_K9q8AsDEkwNxow9VvRGCswDWRfPu2nCp-voglv54v4JVqcXNcAmuW3QK5YGon0MaueekauIMkMgxSUtl-eqXrnOkaBhhJne3EsJYgSVr02-diRxhkfDAk5v5sEAGF9HlVLjL0Rhp1Btu1QA_cF1FjMQXpm7aRqCPSw_qwESRLZ9OHL7cLcyTQ0HG45p3EoLpWUy7Z1kj9A1idjY0HF5rUSVUIfQcPBo4igvTuYclm9vKFJEmy-9hOBfhgqt7oGJtlYl4eyEG4mGVw9Rd_OBf9VkPFdFVgHhM88NTe_D0gntOwGj4S9cSJZqdT_Oe2UyVwYpdjGUuOUqW8NLZUKXmTnCo79r-Itd0lmrGqX8R4Ar48O8prPXiO6ltrVmoYL3fyEnF2AFsW64sfiadpazOm6llSoZvduHCzOyJ5breNgrv0VzBNu396LI8VoCH156trpoTPUG-SZLExDHrEB-_gtD-WqP4kkeJsrbQuxtPp-tmj3Lw1Ju2IF4oaaKR0hX_3cIF8QOvw5yob4kiIUhNoZuDsWcnWUzJa3RVDlH2RTfDB4RGdelNCVUm9YQNP-mzK42WNwIC1rZehqslw02-pv-Ry8qUrIvb0wcmj1I8TdgraAz9TO38MAqY-U4zqSwIqFEqchX8JWqZJROspDGcCFzhzSpJzckKpcDQYKQevljqGTvR-NMiQuazHeyMgohePpWAR9D1NId8SKxnFRPnJBW0w2rMjN6mYJpCYqPR2Yr4Y553nHMNPXSabt6xbL-OvWEwo5Ps_RM15iMA" style="width: 348.85px; height: 239.24px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c15"></span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Los estados corresponden a situaciones de espera que finalizan cuando el actor correspondiente (TFG-Estudiante, Profesor, Administrador) hace algo, que en la aplicaci&oacute;n Web suele consistir en rellenar un formulario. Vamos a considerar principalmente las transiciones marcadas con trazo grueso que corresponden al &ldquo;camino feliz&rdquo; en el que todo funciona correctamente. As&iacute;, podemos indicar que los estados se reflejan en la informaci&oacute;n que tengamos en el objeto TFG, y usaremos este objeto para saber qu&eacute; estado es el siguiente (usaremos los n&uacute;meros indicados al lado de cada estado), comprobar que se aporta la informaci&oacute;n que se necesita, y cambiar de estado.</span></p><h2 class="c5" id="h.tyjcwt"><span class="c7">Dise&ntilde;o del flujo de navegaci&oacute;n</span></h2><p class="c9"><span class="c0">Con las ideas claras respecto a c&oacute;mo organizar los estados y transiciones podemos pasar de forma directa a dise&ntilde;ar el flujo de navegaci&oacute;n de la aplicaci&oacute;n. Para esto es necesario pensar en la informaci&oacute;n que se va a presentar a cada actor dependiendo del estado del TFG que queramos considerar. Ya podemos enunciar algunas condiciones de funcionamiento: un estudiante s&oacute;lo puede tener un TFG activo en el sistema, y un Profesor puede actuar como tutor de uno o varios TFG pero no puede ser el autor.</span></p><p class="c2"><span class="c15"></span></p><p class="c22"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 289.35px; height: 306.52px;"><img alt="" src="https://lh3.googleusercontent.com/u/0/docs/AG8NV2ZrTDGbynob8n86a3lyDdMvCgcEc4aDOui3Htx4iHW_zuJdqI1_k5JSeJsyS992sAyGSP9CYhvA78i38rzRRAO9m5LzuZqTe5W8BcMKWQhRT1usvaKq1SqL1jmk9gzmdEqd8T3Oha2Ph6oF7Kx3kdT6jaQqIPMXu7k_ZdL9NkkYl3jjxOQIeBwHL25UVpp57V_yN2MpDIHCtQ5hGGHqGO4aQNGcz3gAqtxdgZdkbKzJtZQ1gGRS2wEcTXf9k6YSPH3AJIDEnzZ0DjxpGE6QJEUDM5D5znN850bq9PMTOYxJn6RwK9zUHiTjRNP_WAD8INBBKCcXc3qXrNBU_AS_IVCp4QxGPlFut9Vh5C5XIudfZgsBICUD6enYaziMlWR6HlY_bXIihm_2bmXFOVFKHZ-FvFvB3DeeMit379ZzR0AoPEqaMUcWpSHANjZCmbZcKHrGU3zxjK-yir_w0An9KIrdceqMa8nckEadEPW_NTUQU3MAXVpYWhrUBNab23z0r7-JnlYBX2Y-AfYFCv-SCsDkGrjBVhtQfmV8gX_n2Qq5bv4sUF610XpDWfE6MKc0D4wrvGsHdTHZ5Kwd3Rr0apMjX2DgMPGJjAeGAy13ay_FMxxGbKBW7m0uAgkrQ6xLPCHLA38w3MUnR0cOrGPPKVJsvbUAUD69yYPujiOLx9HL9QvyHENyB1PglMXrauzfq6BHFascixRwN5ekj1g6Pgk7l-5bfb0fjkqsF6U1bPUcaYPBU6SZA7eyEcdrE08nGq1AXErPp_r-jpNix-9Fd9K9bwn5t8VUD7CNUypg6DdpkNxMBWovTj-RqwoTxPTfWgRWCdmvG9UkT-9gqLtN5PzBitrAO24eKcjgoR6TKdGWLWgelh7e9u25AtrFxmgi17KLDz0KCseCODgcsYXqBekytRXt_Suigw2TplMStdwh_dzr0cQdlgCV02CCyw" style="width: 289.35px; height: 306.52px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">La mayor&iacute;a de las aplicaciones Web realizan operaciones sobre entidades de datos; en nuestro caso como veremos en la sesi&oacute;n de laboratorio, la descripci&oacute;n del TFG es el tipo principal de dato y las operaciones son b&aacute;sicamente las siguientes:</span></p><ul class="c3 lst-kix_tjdox5fgweyu-0 start"><li class="c9 c11 li-bullet-0"><span class="c0">crear una entidad, por parte del estudiante que solicita el TFG,</span></li><li class="c9 c11 li-bullet-0"><span class="c0">leer la entidad, necesario para cualquiera de los roles cuando desean conocer los TFGs que hay en la aplicaci&oacute;n,</span></li><li class="c9 c11 li-bullet-0"><span class="c0">actualizar o cambiar el valor de alguno de los atributos de un TFG (excepto la clave); en nuestro caso el estado es un atributo especial porque determina la situaci&oacute;n del TFG en su ciclo de vida,</span></li><li class="c9 c11 li-bullet-0"><span class="c0">borrar un TFG del sistema,</span></li><li class="c9 c11 li-bullet-0"><span class="c0">obtener la lista completa de TFGs, para lo que es necesario leerlos todos.</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">En las aplicaciones habituales de lectura-escritura se suele realizar una tabla que indica qu&eacute; operaciones puede realizar cada rol; si es necesario se puede incluir un rol adicional para el resto. Hemos previsto que la informaci&oacute;n de los TFGs sea p&uacute;blica -se permite leer la informaci&oacute;n a usuarios sin autenticar.</span></p><a id="t.1e66701e2086b4a42f998b8f2eea0349519584d8"></a><a id="t.0"></a><table class="c16"><thead><tr class="c19"><td class="c4" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Estudiante</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Profesor</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Admin</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c8"><span class="c1">sin autenticar</span></p></td><tbody></tbody></tr><tr class="c19"><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Crear</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td></tr><tr class="c19"><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Leer</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td></tr><tr class="c19"><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Actualizar</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td></tr><tr class="c19"><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Borrar</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c8 c17"><span class="c1"></span></p></td></tr><tr class="c19"><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">Leer todas</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c8"><span class="c1">X</span></p></td></tr></thead></table><p class="c13"><span class="c0"></span></p><p class="c9"><span class="c0">Las aplicaciones que siguen un proceso de negocio -tambi&eacute;n se llama ciclo de vida de una entidad- necesitan reflejar la situaci&oacute;n de &eacute;sta seg&uacute;n va evolucionando. </span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Consideraremos que hay un usuario con todos los permisos que hace de administrador del sistema. El Administrador puede gestionar la informaci&oacute;n de todos los TFG del sistema, y realizar todas las operaciones de Secretar&iacute;a.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Cuando un estudiante pide un TFG en el sistema es porque no tiene ninguno previo; en ese momento rellena un formulario de solicitud de trabajo en el que incluir&aacute; su contrase&ntilde;a. Si el estudiante ya tiene un TFG admitido, podr&aacute; ver la informaci&oacute;n sobre su TFG en el sistema, o rellenar los formularios para subir el fichero pdf de la memoria del trabajo si est&aacute; en ese punto. En cualquier caso, para acceder deber&aacute; poner la contrase&ntilde;a que indic&oacute; al crear la solicitud.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Respecto al Profesor, con las simplificaciones que hemos realizado, las acciones son un poco m&aacute;s complejas -pero poco. Al autenticarse, se le presentan todos los TFGs en el sistema en los que act&uacute;a como tutor, y se le ofrece la posibilidad de completar la fase en la que se encuentre cada uno de ellos.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">El estado de un TFG es un n&uacute;mero entero que se modifica de forma creciente s&oacute;lo por el actor que pueda hacerlo seg&uacute;n el diagrama de estado, y que va guardado en la propia entidad como atributo por lo que esta modificaci&oacute;n es realmente una actualizaci&oacute;n del TFG. As&iacute; las operaciones de actualizaci&oacute;n permitidas son:</span></p><ul class="c3 lst-kix_apxt72ypeb79-0 start"><li class="c9 c11 li-bullet-0"><span class="c0">Estudiante: crear un TFG (lo deja en estado 1), a&ntilde;adir la memoria (pasa del estado 3 al 4)</span></li><li class="c9 c11 li-bullet-0"><span class="c0">Profesor: aceptar un TFG (pasa del estado 1 al 2), proponerlo para defensa (pasa del estado 4 al 5), rellenar el acta (pasa del estado 6 al 7)</span></li><li class="c9 c11 li-bullet-0"><span class="c0">Admin: puede hacer cualquier actualizaci&oacute;n, en particular 2 al 3, 5 al 6, 7 al 8.</span></li></ul><h2 class="c5" id="h.3dy6vkm"><span class="c7">Generaci&oacute;n de flujo de navegaci&oacute;n</span></h2><p class="c9"><span class="c0">El flujo de navegaci&oacute;n puede ser muy sencillo: la entrada a la aplicaci&oacute;n ser&aacute; el listado de los TFGs (podremos dejar ver s&oacute;lamente la informaci&oacute;n pertinente en cada momento), que es informaci&oacute;n p&uacute;blica para la que no es necesario autenticarse. Deber&aacute; haber en esa pantalla inicial un formulario, bot&oacute;n o enlace para poder a&ntilde;adir la informaci&oacute;n de autenticaci&oacute;n (para entrar como estudiante, profesor o admin). Tambi&eacute;n deber&aacute; haber una secci&oacute;n para poder solicitar un nuevo TFG, que llevar&aacute; a un formulario para rellenar los datos y crear el TFG.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">S&oacute;lo los usuarios autenticados pueden acceder al resto de operaciones. En especial la operaci&oacute;n de actualizaci&oacute;n como se ha comentado s&oacute;lo se puede ofrecer a cada tipo de usuario (estudiante, profesor) dependiendo del estado del TFG -como bot&oacute;n, enlace o formulario para hacer el cambio que sea.</span></p><h2 class="c5" id="h.iact19i9k1go"><span class="c7">Producto Viable M&iacute;nimo</span></h2><p class="c9"><span class="c14">Una vez definido el sistema que se va a construir (y se ha reflejado en la herramienta SCRUM que se vaya a usar como elementos del </span><span class="c14 c21">Product Backlog</span><span class="c14">), ser&iacute;a necesario organizar los </span><span class="c21 c14">sprints</span><span class="c14">&nbsp;de los que va a constar el desarrollo, teniendo en cuenta el valor que ofrecen al cliente y c&oacute;mo de cr&iacute;ticos son para decidir en qu&eacute; </span><span class="c21 c14">sprint</span><span class="c0">&nbsp;hacerlos.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">As&iacute; pues, en una primera iteraci&oacute;n definiremos la capa de servicios de persistencia compuesta por las operaciones sobre la entidad TFG y su respaldo sobre una base de datos relacional. Estas operaciones van a hacerse accesibles mediante servicios REST.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">En la segunda iteraci&oacute;n conseguiremos un PVM si construimos completamente la interacci&oacute;n del Admin, considerado como rol principal. Puesto que tiene completa libertad para manejar los TFGs registrados en el sistema, el c&oacute;digo que desarrollemos contendr&aacute; partes que podremos reutilizar para los otros roles. Se considera que esto constituye el PVM porque al tener control completo, se podr&iacute;a implantar esta soluci&oacute;n de forma provisional, con los alumnos y profesores interactuando con Admin por correo electr&oacute;nico y este realizando las operaciones sobre la aplicaci&oacute;n web. El control del estado del TFG ser&iacute;a puramente manual.</span></p><p class="c2"><span class="c0"></span></p><p class="c9"><span class="c0">Las siguientes iteraciones dar&iacute;an la posibilidad a los estudiantes, de registrar un nuevo TFG, y tanto ellos como los profesores, hacer avanzar el estado de forma controlada, incluyendo la subida y acceso a la memoria del TFG en los estados pertinentes.</span></p><p class="c2"><span class="c15"></span></p><div><p class="c17 c23"><span class="c15"></span></p></div></body></html>